<!DOCTYPE html><html><head>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
<meta content="text/html; charset=utf-8" http-equiv="Content-Type">
<meta name="description" content="iCn3D Structure Viewer">
<meta name="ncbi_db" content="structure">
<meta name="keywords" content="NCBI, Structure, JavaScript, iCn3D, 3D, Viewer, WebGL, three.js, sequence, chemical">
<meta name="robots" content="index,follow,noarchive">
<title>iCn3D: Web-based 3D Structure Viewer</title>

<link rel="stylesheet" href="lib/jquery-ui-1.12.1.min.css">
<link rel="stylesheet" href="icn3d_full_ui.css">
<script src="lib/jquery-3.2.1.min.js"></script>
<script src="lib/jquery-ui-1.12.1.min.js"></script>
<script src="lib/three_0.80.0.min.js"></script>
<script src="full_ui_all.min.js"></script>

<style type="text/css">
pre { white-space: pre-wrap; }
A { text-decoration: none;}

.top {
  width: 12px;
  height: 12px;
  background: url(https://www.ncbi.nlm.nih.gov/Structure/IMG/arrowup_blue.gif) no-repeat;
  margin-top: 6px;
}

.indent {margin-left:40px;}

body {font-family: Verdana, Arial, Helvetica, sans-serif;}
</style>

</head>
<body>
<a name="Top"></a>
<blockquote>
<h1>iCn3D Web APIs</h1>

<!-- ============= TABLE_OF_CONTENTS ============= -->

<ul>

<li><a href="#HowToUse">How to use iCn3D Structure Viewer in your html page</a></li>
    <ul>
    <li><a href="#embedIframe">Embed using iframe</a></li>
    <li><a href="#embedJS">Embed using Javascript</a><br>
        <ol>
        <li><a href="#HowToUseStep1">Include three.js and jQuery javascript libraries in the &lt;head&gt; of your html page</a></li>
        <li><a href="#HowToUseStep2">Position the widget with an html div</a></li>
        <li><a href="#HowToUseStep3">Initialize the widget with desired parameters</a></li>
        </ol>
    </li>
    <li><a href="#modifyFeatures">Modify default features of iCn3D</a><br>
        <ul>
        <li><a href="#modifyOptions">Modify display options</a></li>
        <li><a href="#addUrlPara">Add URL parameters with or without commands</a></li>
        <li><a href="#modifyMethods">Modify iCn3D methods</a></li>
        </ul>
    <li><a href="#hints">Hints for using iCn3D</a><br>
        <ul>
        <li><a href="#HowToUseStep4">Hint for rotating/translating/zooming the 3D structure</a></li>
        <li><a href="#HowToUseStep5">Hint for selecting 3D structure and sequences</a></li>
        <li><a href="#HowToUseStep6">Hint for recovering a crashed page</a></li>
        <li><a href="#HowToUseStep7">Hint for turning on scroll bars in Mac</a></li>
        </ul>
    </li>
    </ul>
<br>
<li><a href="#parameters">URL parameters for the advanced interface</a>
</li><br>
<li><a href="#commands">Menus, Commands, and Methods of the advanced interface</a>
    <table>
        <tbody><tr>
        <td>1. <a href="#file">File</a>&nbsp;&nbsp;</td>
        <td>2. <a href="#select">Select</a>&nbsp;&nbsp;</td>
        <td>2b. <a href="#selectb">Selection Definition</a>&nbsp;&nbsp;</td>
        <td>3. <a href="#view">View</a>&nbsp;&nbsp;</td>
        <td>4. <a href="#style">Style</a>&nbsp;&nbsp;</td>
        <td>5. <a href="#color">Color</a>&nbsp;&nbsp;</td>
        <td>6. <a href="#windows">Windows</a>&nbsp;&nbsp;</td>
        <td>7. <a href="#help">Help</a>&nbsp;&nbsp;</td>
        </tr>
        </tbody>
    </table>
</li><br>
<li><a href="#DataStructure">Data Structure</a></li><br>
<li><a href="#DisplayOptions">Display Options</a></li><br>
<li><a href="#Methods">Method Documents of the core library iCn3D</a></li>
<table>
<tbody><tr>
<td valign="top">
<div style="float:left; margin-left:10px;">
<span style="font-weight:bold; font-size:1em;">Options</span><br>
<a href="#bHighlight">bHighlight</a><br>
<a href="#bImpo">bImpo</a><br>
<a href="#bRender">bRender</a><br>
<a href="#bStopRotate">bStopRotate</a><br>
<a href="#coilWidth">coilWidth</a><br>
<a href="#cylinderHelixRadius">cylinderHelixRadius</a><br>
<a href="#dAtoms">dAtoms</a><br>
<a href="#dotSphereScale">dotSphereScale</a><br>
<a href="#hAtoms">hAtoms</a><br>
<a href="#hColor">hColor</a><br>
<a href="#helixSheetWidth">helixSheetWidth</a><br>
<a href="#lineRadius">lineRadius</a><br>
<a href="#matShader">matShader</a><br>
<a href="#nucleicAcidWidth">nucleicAcidWidth</a><br>
<a href="#pAtom">pAtom</a><br>
<a href="#pAtom2">pAtom2</a><br>
<a href="#pk">pk</a><br>
<a href="#ribbonthickness">ribbonthickness</a><br>
<a href="#sphereRadius">sphereRadius</a><br>
<a href="#stickRadius">stickRadius</a><br>
<a href="#traceRadius">traceRadius</a><br>
</div>

<div style="float:left;">
<span style="margin-left:10px; font-weight:bold; font-size:1em;">Methods</span><br>

<table><tbody><tr>
<td valign="top">
<div style="float:left; margin-left:10px;">
<a href="#addHlObjects">addHlObjects</a><br>
<a href="#applyDisplayOptions">applyDisplayOptions</a><br>
<a href="#applyOtherOptions">applyOtherOptions</a><br>
<a href="#applySsbondsOptions">applySsbondsOptions</a><br>
<a href="#applyTransformation">applyTransformation</a><br>
<a href="#buildAxes">buildAxes</a><br>
<a href="#calculateChemicalHbonds">calculateChemicalHbonds</a><br>
<a href="#centerAtoms">centerAtoms</a><br>
<a href="#createBox">createBox</a><br>
<a href="#createCylinderCurve">createCylinderCurve</a><br>
<a href="#createCylinderHelix">createCylinderHelix</a><br>
<a href="#createLabelRepresentation">createLabelRepresentation</a><br>
<a href="#createLineRepresentation">createLineRepresentation</a><br>
<a href="#createLines">createLines</a><br>
<a href="#createSphereRepresentation">createSphereRepresentation</a><br>
<a href="#createStickRepresentation">createStickRepresentation</a><br>
<a href="#createStrand">createStrand</a><br>
<a href="#createSurfaceRepresentation">createSurfaceRepresentation</a><br>
<a href="#createTube">createTube</a><br>
<a href="#draw">draw</a><br>
</div>

<div style="float:left; margin-left:10px;">
<a href="#drawCartoonNucleicAcid">drawCartoonNucleicAcid</a><br>
<a href="#drawNucleicAcidStick">drawNucleicAcidStick</a><br>
<a href="#drawSymmetryMates2">drawSymmetryMates2</a><br>
<a href="#exportCanvas">exportCanvas</a><br>
<a href="#getAtomsWithinAtom">getAtomsWithinAtom</a><br>
<a href="#getChainsFromAtoms">getChainsFromAtoms</a><br>
<a href="#getExtent">getExtent</a><br>
<a href="#getFirstAtomObj">getFirstAtomObj</a><br>
<a href="#getLastAtomObj">getLastAtomObj</a><br>
<a href="#getResiduesFromAtoms">getResiduesFromAtoms</a><br>
<a href="#hasCovalentBond">hasCovalentBond</a><br>
<a href="#init">init</a><br>
<a href="#loadPDB">loadPDB</a><br>
<a href="#rebuildScene">rebuildScene</a><br>
<a href="#reinitAfterLoad">reinitAfterLoad</a><br>
<a href="#render">render</a><br>
<a href="#removeHlObjects">removeHlObjects</a><br>
<a href="#removeSurfaces">removeSurfaces</a><br>
<a href="#residueName2Abbr">residueName2Abbr</a><br>
</div>

<div style="float:left; margin-left:10px;">
<a href="#rotateDown">rotateDown</a><br>
<a href="#rotateLeft">rotateLeft</a><br>
<a href="#rotateRight">rotateRight</a><br>
<a href="#rotateUp">rotateUp</a><br>
<a href="#saveFile">saveFile</a><br>
<a href="#selectStrandHelixFromAtom">selectStrandHelixFromAtom</a><br>
<a href="#setAtomStyleByOptions">setAtomStyleByOptions</a><br>
<a href="#setCamera">setCamera</a><br>
<a href="#setOutlineColor">setOutlineColor</a><br>
<a href="#setRotationCenter">setRotationCenter</a><br>
<a href="#setStyle2Atoms">setStyle2Atoms</a><br>
<a href="#setWidthHeight">setWidthHeight</a><br>
<a href="#showPicking">showPicking</a><br>
<a href="#translateDown">translateDown</a><br>
<a href="#translateLeft">translateLeft</a><br>
<a href="#translateRight">translateRight</a><br>
<a href="#translateUp">translateUp</a><br>
<a href="#zoomIn">zoomIn</a><br>
<a href="#zoomOut">zoomOut</a><br>
</div>

</td>

</tr></tbody></table>

</div>

<div style="float:left; margin-left:10px;">
<span style="font-weight:bold; font-size:1em;">Methods in Menus</span><br>
<a href="#addResiudeLabels">addResiudeLabels</a><br>
<a href="#applySurfaceOptions">applySurfaceOptions</a><br>
<a href="#centerSelection">centerSelection</a><br>
<a href="#hideHbonds">hideHbonds</a><br>
<a href="#resetOrientation">resetOrientation</a><br>
<a href="#setColorByOptions">setColorByOptions</a><br>
<a href="#zoominSelection">zoominSelection</a><br>
<br>
<span style="font-weight:bold; font-size:1em;">Hash Operations</span><br>
<a href="#cloneHash">cloneHash</a><br>
<a href="#exclHash">exclHash</a><br>
<a href="#exclHash2Atoms">exclHash2Atoms</a><br>
<a href="#hash2Atoms">hash2Atoms</a><br>
<a href="#intHash">intHash</a><br>
<a href="#intHash2Atoms">intHash2Atoms</a><br>
<a href="#unionHash">unionHash</a><br>
<a href="#unionHash2Atoms">unionHash2Atoms</a><br>
</div>

</td></tr>
</tbody></table>
<br>

<li><a href="#UIMethods">Method Documents of the advanced UI library iCn3DUI</a></li>
<table>
<tbody><tr>
<td valign="top">
<div style="float:left; margin-left:10px;">
<span style="font-weight:bold; font-size:1em;">Options</span><br>
<a href="#b2DShown">b2DShown</a><br>
<a href="#bAddCommands">bAddCommands</a><br>
<a href="#bAddLogs">bAddLogs</a><br>
<a href="#bAnnoShown">bAnnoShown</a><br>
<a href="#bNotLoadStructure">bNotLoadStructure</a><br>
<a href="#bSetChainsAdvancedMenu">bSetChainsAdvancedMenu</a><br>
<a href="#cfg">cfg</a><br>
<a href="#LESSWIDTH">LESSWIDTH</a><br>
<a href="#LESSHEIGHT">LESSHEIGHT</a><br>
<a href="#options">opts</a><br>
<a href="#pre">pre</a><br>

<br>
<a name="ModifyList"></a><span style="font-weight:bold; font-size:1em;">Modify iCn3DUI</span><br>
<a href="#modifyIcn3d">modifyIcn3d</a><br>
<a href="#allCustomEvents">allCustomEvents</a><br>
<a href="#setCustomDialogs">setCustomDialogs</a><br>

<br>
<span style="font-weight:bold; font-size:1em;">3D Print</span><br>
<a href="#hideStabilizer">hideStabilizer</a><br>
<a href="#prepareFor3Dprint">prepareFor3Dprint</a><br>
<a href="#resetAfter3Dprint">resetAfter3Dprint</a><br>
<a href="#saveStlFile">saveStlFile</a><br>
<a href="#saveVrmlFile">saveVrmlFile</a><br>
</div>

<div style="float:left; margin-left:10px;">
<span style="font-weight:bold; font-size:1em;">Methods in Menus</span><br>
<div style="float:left;">
<a href="#addChainLabels">addChainLabels</a><br>
<a href="#addLabel">addLabel</a><br>
<a href="#addLine">addLine</a><br>
<a href="#addStabilizer">addStabilizer</a><br>
<a href="#applyCommandAnnotationsAndCddSite">applyCommandAnnotationsAndCddSite</a><br>
<a href="#back">back</a><br>
<a href="#changeCustomAtoms">changeCustomAtoms</a><br>
<a href="#downloadAlignment">downloadAlignment</a><br>
<a href="#downloadCid">downloadCid</a><br>
<a href="#downloadGi">downloadGi</a><br>
<a href="#downloadMmcif">downloadMmcif</a><br>
<a href="#downloadMmdb">downloadMmdb</a><br>
<a href="#downloadMmcif">downloadMmcif</a><br>
<a href="#downloadPdb">downloadPdb</a><br>
<a href="#downloadUrl">downloadUrl</a><br>
<a href="#exportInteractions">exportInteractions</a><br>
<a href="#forward">forward</a><br>
<a href="#hideStabilizer">hideStabilizer</a><br>
<a href="#loadScript">loadScript</a><br>
<a href="#pickCustomSphere">pickCustomSphere</a><br>
<a href="#renderFinalStep">renderFinalStep</a><br>
<a href="#resetAfter3Dprint">resetAfter3Dprint</a><br>
<a href="#rotStruc">rotStruc</a><br>
<a href="#saveFile">saveFile</a><br>
<a href="#selectAll">selectAll</a><br>
<a href="#selectByCommand">selectByCommand</a><br>
<a href="#selectComplement">selectComplement</a><br>
<a href="#set2DDiagrams">set2DDiagrams</a><br>
<a href="#setOption">setOption</a><br>
</div>

<div style="float:left;">
<a href="#setStyle">setStyle</a><br>
<a href="#shareLink">shareLink</a><br>
<a href="#showHbonds">showHbonds</a><br>
<a href="#showSelection">showSelection</a><br>
<a href="#showSets">showSets</a><br>
<a href="#showSsbonds">showSsbonds</a><br>

<br>
<span style="font-weight:bold; font-size:1em;">Load Structures</span><br>
<a href="#loadAtomDataIn">loadAtomDataIn</a><br>
<a href="#loadSdfAtomData">loadSdfAtomData</a><br>
<a href="#loadMmcifData">loadMmcifData</a><br>
<a href="#loadPdbData">loadPdbData</a><br>

<br>
<span style="font-weight:bold; font-size:1em;">Display Structures</span><br>
<a href="#alternateStructures">alternateStructures</a><br>
<a href="#resizeCanvas">resizeCanvas</a><br>
<a href="#renderFinalStep">renderFinalStep</a><br><a href="#renderStructure">renderStructure</a><br>
<a href="#show3DStructure">show3DStructure</a><br>

<br>
<span style="font-weight:bold; font-size:1em;">Annotation Methods</span><br>
<a href="#showAnnotations">showAnnotations</a><br>
<a href="#showCddSite">showCddSite</a><br>
<a href="#showDomain">showDomain</a><br>
<a href="#showInteraction">showInteraction</a><br>
<a href="#showSeq">showSeq</a><br>
<a href="#showSnpClinvar">showSnpClinvar</a><br>
</div>

</div>

<div style="float:left; margin-left:10px;">
<span style="font-weight:bold; font-size:1em;">Selection Methods</span><br>
<a href="#addCustomSelection">addCustomSelection</a><br>
<a href="#applyCommand">applyCommand</a><br>
<a href="#applyCommandLoad">applyCommandLoad</a><br>
<a href="#clearSelection">clearSelection</a><br>
<a href="#execCommands">execCommands</a><br>
<a href="#outputSelection">outputSelection</a><br>
<a href="#selectAAlignChain">selectAAlignChain</a><br>
<a href="#selectAChain">selectAChain</a><br>
<a href="#toggleSelection">toggleSelection</a><br>
<br>
<span style="font-weight:bold; font-size:1em;">Highlight Methods</span><br>
<a href="#changeSeqColor">changeSeqColor</a><br>
<a href="#removeHl2D">removeHl2D</a><br>
<a href="#removeHlAll">removeHlAll</a><br>
<a href="#removeHlMenus">removeHlMenus</a><br>
<a href="#removeHlObjects">removeHlObjects</a><br>
<a href="#removeHlSeq">removeHlSeq</a><br>
<a href="#removeSeqChainBkgd">removeSeqChainBkgd</a><br>
<a href="#removeSeqResidueBkgd">removeSeqResidueBkgd</a><br>
<a href="#update2DdgmContent">update2DdgmContent</a><br>
<a href="#updateHl2D">updateHl2D</a><br>
<a href="#updateHlAll">updateHlAll</a><br>
<a href="#updateHlMenus">updateHlMenus</a><br>
<a href="#updateHlObjects">updateHlObjects</a><br>
<a href="#updateHlSeq">updateHlSeq</a><br>
</div>

<div style="float:left; margin-left:10px;">
<span style="font-weight:bold; font-size:1em;">Set Html</span><br>
<a href="#getAlignSequencesAnnotations">getAlignSequencesAnnotations</a><br>
<a href="#openDialog">openDialog</a><br>
<a href="#setAlignChainMenu">setAlignChainMenu</a><br>
<a href="#setAtomMenu">setAtomMenu</a><br>
<a href="#setDialogs">setDialogs</a><br>
<a href="#setLogCmd">setLogCmd</a><br>
<a href="#setLogWindow">setLogWindow</a><br>
<a href="#setMenu1">setMenu1</a><br>
<a href="#setMenu2">setMenu2</a><br>
<a href="#setMenu3">setMenu3</a><br>
<a href="#setMenu4">setMenu4</a><br>
<a href="#setMenu5">setMenu5</a><br>
<a href="#setMenu6">setMenu6</a><br>
<a href="#setTools">setTools</a><br>
<a href="#setTopMenusHtml">setTopMenusHtml</a><br>
<a href="#showMenu">showMenu</a><br>
<a href="#showTitle">showTitle</a><br>
<br>
<span style="font-weight:bold; font-size:1em;">Other Methods</span><br>
<a href="#allEventFunctions">allEventFunctions</a><br>
<a href="#getCommandsBeforeCrash">getCommandsBeforeCrash</a><br>
<a href="#hideMenu">hideMenu</a><br>
<a href="#initUI">init</a><br>
<a href="#isIE">isIE</a><br>
<a href="#isMac">isMac</a><br>
<a href="#isMobile">isMobile</a><br>
<a href="#isSessionStorageSupported">isSessionStorageSupported</a><br>
<a href="#modifyIcn3dshowPicking">modifyIcn3dshowPicking</a><br>
<a href="#saveCommandsToSession">saveCommandsToSession</a><br>
</div>

</td>
</tr>
</tbody></table>
<br>
<li><a href="#log">Change Log</a></li>

</ul>

<hr>

<!-- =========== END_TABLE_OF_CONTENTS ============= -->


<!-- =========== HOW_TO_USE_ICN3D_WIDGET_3_STEPS ============= -->

<br>

<a name="HowToUse"></a>
<h2>How to use iCn3D Structure Viewer in your html page:<img src="https://www.ncbi.nlm.nih.gov/Structure/IMG/spacer.gif" width="25" height="1" border="0"><a href="#Top"><img src="https://www.ncbi.nlm.nih.gov/Structure/IMG/arrowup_blue.gif" width="12" height="12" border="0" alt="back to top"></a></h2>
<ul>
<li><a name="embedIframe"></a><b>Embed using iframe</b><br>
<p>To embed iCn3D Structure Viewer in your own HTML page using iframe, simply add the following to your page:
</p><div class="indent"><code>&lt;iframe src="https://www.ncbi.nlm.nih.gov/Structure/icn3d/full.html?mmdbid=1tup&amp;width=300&amp;height=300&amp;showmenu=0&amp;rotate=0" width="320" height="320" style="border:none"&gt;&lt;/iframe&gt;</code></div><br>

</li>
<li><a name="embedJS"></a><b>Embed using Javascript</b><br>

<p>To embed iCn3D Structure Viewer in your own HTML page using the distribution files on NCBI servers, simply follow these 3 steps:</p>

<ol>
    <li><a name="HowToUseStep1"></a><b>Include the CSS and JavaScript libraries in the &lt;head&gt; of your html page, as shown here.</b></li>
    <ul><li>
      <p>Basic UI:</p>
    <pre>&lt;link rel="stylesheet" href="https://www.ncbi.nlm.nih.gov/Structure/icn3d/lib/jquery-ui.min.css"&gt;
&lt;link rel="stylesheet" href="https://www.ncbi.nlm.nih.gov/Structure/icn3d/icn3d_simple_ui.css"&gt;
&lt;script src="https://www.ncbi.nlm.nih.gov/Structure/icn3d/lib/jquery.min.js"&gt;&lt;/script&gt;
&lt;script src="https://www.ncbi.nlm.nih.gov/Structure/icn3d/lib/jquery-ui.min.js"&gt;&lt;/script&gt;
&lt;script src="https://www.ncbi.nlm.nih.gov/Structure/icn3d/lib/three.min.js"&gt;&lt;/script&gt;
&lt;script src="https://www.ncbi.nlm.nih.gov/Structure/icn3d/simple_ui_all.min.js"&gt;&lt;/script&gt;</pre>
    </li>
    <li><p>Advanced UI:</p>
    <pre>&lt;script src="https://www.gstatic.com/firebasejs/4.12.1/firebase.js"&gt;&lt;/script&gt;
&lt;link rel="stylesheet" href="https://www.ncbi.nlm.nih.gov/Structure/icn3d/lib/jquery-ui.min.css"&gt;
&lt;link rel="stylesheet" href="https://www.ncbi.nlm.nih.gov/Structure/icn3d/icn3d_full_ui.css"&gt;
&lt;script src="https://www.ncbi.nlm.nih.gov/Structure/icn3d/lib/jquery.min.js"&gt;&lt;/script&gt;
&lt;script src="https://www.ncbi.nlm.nih.gov/Structure/icn3d/lib/jquery-ui.min.js"&gt;&lt;/script&gt;
&lt;script src="https://www.ncbi.nlm.nih.gov/Structure/icn3d/lib/three.min.js"&gt;&lt;/script&gt;
&lt;script src="https://www.ncbi.nlm.nih.gov/Structure/icn3d/full_ui_all.min.js"&gt;&lt;/script&gt;</pre>
    </li>
    </ul>

    <li><a name="HowToUseStep2"></a><b>Position the widget with an html div</b></li>
    <pre>      &lt;div id="icn3dwrap"&gt;&lt;/div&gt;
    </pre>
    The widget will be rendered inside of the div.<br><br>


    <li><a name="HowToUseStep3"></a><b>Initialize the widget with desired parameters:</b></li>
    <ul><li>Basic UI:<br>
    <pre>  &lt;script type="text/javascript"&gt;
    $( document ).ready(function() {
      var cfg = {
          divid: 'icn3dwrap',
          width: 400,
          height: 400,
          resize: false,
          rotate: 'right',
          pdbid: '1tup'
      };

      var icn3dui = new iCn3DUI(cfg);
      icn3dui.show3DStructure();
    });&lt;/script&gt;
    </pre>
    </li>
    <li>Advanced UI:<br>
    <pre>  &lt;script type="text/javascript"&gt;
    $( document ).ready(function() {
          var options = {};

          //Options are available at: https://www.ncbi.nlm.nih.gov/Structure/icn3d/icn3d.html#DisplayOptions
          //options['proteins'] = 'sphere';

          var cfg = {
              divid: 'icn3dwrap',
              width: '100%',
              height: '100%',
              resize: true,
              rotate: 'right',
              showmenu: true
          };
          cfg['pdbid'] = '1tup';
          if(Object.keys(options).length > 0) cfg['options'] = options;

          var icn3dui = new iCn3DUI(cfg);

          //communicate with the 3D viewer with chained functions
          $.when(icn3dui.show3DStructure()).then(function() {
               //icn3dui.setOption('color', 'cyan');
          });
    });
  &lt;/script&gt;</pre>
    </li>
    </ul>
</ol>
</li>

<li><a name="modifyFeatures"></a><b>Modify default features of iCn3D</b><br>
    <ul>
    <li><a name="modifyOptions"></a><b>Modify <a href="#DisplayOptions">display options</a>:</b></li>
        <div>Users can add display options in the file full.html, e.g., "options['proteins'] = 'sphere';".</div><br>
    <li><a name="addUrlPara"></a><b>Add <a href="#parameters">URL parameters</a> with or without commands:</b></li>
        <div>Users can add URL parameters to open the annotation window (&showanno=1), open the 2D interaction diagram (&show2d=1), open the defined sets (&showsets=1), etc. Users can also use the command parameter to apply commands on the structure, e.g., "&command=style protein sphere".</div><br>
    <li><a name="modifyMethods"></a><b>Modify iCn3D methods:</b></li>
        <div>Users can add custom methods by overwriting <a href="#ModifyList">these methods</a>: modifyIcn3d, allCustomEvents, setCustomDialogs</div><br>
    </ul>
</li>

<li><a name="hints"></a><b>Hints for using iCn3D</b><br>
  <ul>
    <li><a name="HowToUseStep4"></a><b>Hint for rotating/translating/zooming the 3D structure:</b></li>
    <ul>
      <li>Rotate
          <ul>
              <li>Left mouse</li>
              <li>Key L: left</li>
              <li>Key J: right</li>
              <li>Key I: up</li>
              <li>Key M: down</li>
          </ul>
      </li>
      <li>Zoom
          <ul>
              <li>Middle mouse</li>
              <li>Key Z: zoom in</li>
              <li>Key X: zoom out</li>
          </ul>
      </li>
      <li>Translate
          <ul>
              <li>Right mouse</li>
              <!--li>Arrow left: left</li>
              <li>Arrow right: right</li>
              <li>Arrow up: up</li>
              <li>Arrow down: down</li-->
          </ul>
      </li>
    </ul>
    <br>

    <li><a name="HowToUseStep5"></a><b>Hint for selcting 3D structure, 2D interactions, and 1D sequences:</b></li>
    <div>To pick an atom/residue/strand in the 3D structure, hold "Alt" key and use mouse to pick. Click the second time to deselect. To add more selection to the current selection, hold "Ctrl" key and use mouse to pick. To add a range of selection starting from the current selection, hold "Shift" key and use mouse to pick the ending selection. To change the selected residue to the strand/chain/structure containing the residue, press the up/down arrow. <br/>
    <br/>
    To select chains or interactions in the 2D interactions diagram, click on the nodes or lines. The nodes are chains and can be united with the Ctrl key. The lines are interactions and can NOT be united. Each click on the lines selects half of the lines, i.e., select the interacting residues in one of the two chains. The selected residues are saved in the "Select -> Advanced" menu.<br/>
    <br/>
    To select residues in the 1D sequence window, drag with mouse or touch to select residues. Drag or touch again to deselect residues. Multiple selection is allowed without the Ctrl key.<br/>
    <br/>
    To save the current selection (either on 3D structure, 2D interactions, or 1D sequence), open the menu "Select -> Save Selection", specify the name and description for the selection, and click "Save".
    </div>
    <br>

    <li><a name="HowToUseStep6"></a><b>Hint for recovering a crashed page:</b></li>
    <div>If for some reason the 3D viewer crashes, you can refresh the same crashed page to get the saved commands and recover your previous state by loading the commands at File -&gt; Open State/Script. This is done by using session storage. It works in Chrome, Firefox, and Internet Explorer in PC, but not Safari nor Mac.
    </div>
    <br>

    <li><a name="HowToUseStep7"></a><b>Hint for turning on scroll bars in Mac:</b></li>
    <div>If you are using Macintosh computer and need to scroll in the sequence dialog, you can turn on the scroll bars as follows: Systems preferences -> GENERAL -> show scroll bars -> check "always".
    </div>

</ul>
</li>
</ul>

<!-- =========== END_HOW_TO_USE_ICN3D_WIDGET_3_STEPS ============= -->

<hr>

<a name="parameters"></a>
<h2>URL parameters for the advanced interface<img src="https://www.ncbi.nlm.nih.gov/Structure/IMG/spacer.gif" width="25" height="1" border="0"><a href="#Top"><img src="https://www.ncbi.nlm.nih.gov/Structure/IMG/arrowup_blue.gif" width="12" height="12" border="0" alt="back to top"></a></h2>
<table><tr valign='top'><th>Parameter</th><th>Basic interface<br/>(index.html)</th><th>Advanced interface<br/>(full.html)</th><th>Description</th></tr>
<tr valign='top'><td>mmdbid</td><td>Yes</td><td>Yes</td><td>NCBI MMDB ID or PDB ID, e.g., <a href="full.html?mmdbid=1tup&showanno=1&show2d=1">?mmdbid=1tup&showanno=1&show2d=1</a></td></tr>
<tr valign='top'><td>mmtfid</td><td>Yes</td><td>Yes</td><td>MMTF ID, e.g., <a href="full.html?mmtfid=1tup">?mmtfid=1tup</a></td></tr>
<tr valign='top'><td>pdbid</td><td>Yes</td><td>Yes</td><td>PDB ID, e.g., <a href="full.html?pdbid=1tup">?pdbid=1tup</a></td></tr>
<tr valign='top'><td>mmcifid</td><td>Yes</td><td>Yes</td><td>mmCIF ID, e.g., <a href="full.html?mmcifid=1tup">?mmcifid=1tup</a></td></tr>
<tr valign='top'><td>gi</td><td>Yes</td><td>Yes</td><td>NCBI protein gi number, e.g., <a href="full.html?gi=827343227">?gi=827343227</a></td></tr>
<tr valign='top'><td>cid</td><td>Yes</td><td>Yes</td><td>PubChem Compound ID, e.g., <a href="full.html?cid=2244">?cid=2244</a></td></tr>
<tr valign='top'><td>align</td><td>No</td><td>Yes</td><td>Two PDB IDs or MMDB IDs for structure alignment, e.g., <a href="full.html?align=1hho,4n7n">?align=1hho,4n7n</a></td></tr>
<tr valign='top'><td>url</td><td>Yes</td><td>Yes</td><td>Use the url (encoded) to retrieve the 3D structure. The url requires another parameter "type", e.g., <a href="full.html?type=pdb&url=https%3A%2F%2Ffiles.rcsb.org%2Fview%2F1gpk.pdb">?type=pdb&url=https%3A%2F%2Ffiles.rcsb.org%2Fview%2F1gpk.pdb</a></td></tr>

<tr valign='top'><td>width</td><td>Yes</td><td>Yes</td><td>Width of the structure image. It can be percentage such as '100%', or pixel values such as 400. The default is "100%".</td></tr>
<tr valign='top'><td>height</td><td>Yes</td><td>Yes</td><td>Height of the structure image. It can be percentage such as '100%', or pixel values such as 400. The default is "100%".</td></tr>
<tr valign='top'><td>resize</td><td>Yes</td><td>Yes</td><td>Set "true" or "1" to resize the image when the container is resized. The default is "true".</td></tr>
<tr valign='top'><td>rotate</td><td>Yes</td><td>Yes</td><td>Set "right", "left", "up", or "down" to rotate the structure when it is  displayed at the beginning. The default is "right".</td></tr>

<tr valign='top'><td>showanno</td><td>No</td><td>Yes</td><td>Set "true" or "1" to show annotations, such as SNPs, ClinVar, domains, binding sites. The default is "false".</td></tr>
<tr valign='top'><td>showalignseq</td><td>No</td><td>Yes</td><td>Set "true" or "1" to show the aligned sequence window. The default is "false".</td></tr>
<tr valign='top'><td>showsets</td><td>No</td><td>Yes</td><td>Set "true" or "1" to show the defined sets. The default is "false".</td></tr>
<tr valign='top'><td>show2d</td><td>No</td><td>Yes</td><td>Set "true" or "1" to show the 2D interaction. The default is "false".</td></tr>
<tr valign='top'><td>showmenu</td><td>No</td><td>Yes</td><td>Set "false" or "0" to hide the menus and buttons at the top of the structure canvas. The default is "true".</td></tr>
<tr valign='top'><td>showcommand</td><td>No</td><td>Yes</td><td>Set "false" or "0" to hide the command window. The default is "true".</td></tr>
<tr valign='top'><td><a name="commandsUrl"></a>command</td><td>No</td><td>Yes</td><td>Besides the "Script/Log" section at the bottom of the canvas, commands can also be attached to the url parameter "command". Several commands can be concatenated with the separator ";", e.g., <a href="full.html?mmdbid=3gvu&command=select .A:38-40 or .A:42 or .A:45 or .A:61 or .A:63 or .A:77-78 or .A:82 or .A:91 or .A:107-108 or .A:110 or .A:114 or .A:162 or .A:172-173; style proteins stick; color atom; set surface Van der Waals surface; add label ATP-binding Site | size 18 | color 0000ff | background cccccc | type custom; select .STI; color green; toggle highlight">full.html?mmdbid=3gvu&amp;command=select .A:38-40 or .A:42 or .A:45 or .A:61 or .A:63 or .A:77-78 or .A:82 or .A:91 or .A:107-108 or .A:110 or .A:114 or .A:162 or .A:172-173; style proteins stick; color atom; set surface Van der Waals surface; add label ATP-binding Site | size 18 | color 0000ff | background cccccc | type custom; select .STI; color green; toggle highlight</a>.</td></tr>
</table>

<hr>

<a name="commands"></a>
<h2>Menus, Commands, and Methods of the advanced interface<img src="https://www.ncbi.nlm.nih.gov/Structure/IMG/spacer.gif" width="25" height="1" border="0"><a href="#Top"><img src="https://www.ncbi.nlm.nih.gov/Structure/IMG/arrowup_blue.gif" width="12" height="12" border="0" alt="back to top"></a></h2>
<a name="file"></a><b>1. File</b> <a href="#Top"><span class="top">&nbsp;&nbsp;&nbsp;</span></a><br>
<table width='100%'><tr><td valign='top' width='30%'><b>Menu</b></td><td valign='top' width='40%'><b>Command</b></td><td valign='top'><b>Method</b></td></tr>
<tbody>
<tr><td colspan="3">a) Retrieve by ID</td></tr>
<tr><td valign='top'><span class="indent">MMDB ID:</span></td>          <td valign='top'>load mmdb [1GPK]</td> <td valign='top'><a href="#downloadMmdb">downloadMmdb</a></td></tr>
<tr><td width="240"><span class="indent">MMTF ID:</span></td>           <td valign='top'>load mmtf [1GPK]</td> <td valign='top'><a href="#downloadMmtf">downloadMmtf</a></td></tr>
<tr><td valign='top'><span class="indent">PDB ID:</span></td>           <td valign='top'>load pdb [1GPK]</td> <td valign='top'><a href="#downloadPdb">downloadPdb</a></td></tr>
<tr><td valign='top'><span class="indent">mmCIF ID:</span></td>          <td valign='top'>load mmcif [1GPK]</td> <td valign='top'><a href="#downloadMmcif">downloadMmcif</a></td></tr>
<tr><td valign='top'><span class="indent">NCBI gi:</span></td>               <td valign='top'>load gi [827343227]</td> <td valign='top'><a href="#downloadGi">downloadGi</a></td></tr>
<tr><td valign='top'><span class="indent">PubChem CID:</span></td>              <td valign='top'>load cid [2244]</td> <td valign='top'><a href="#downloadCid">downloadCid</a></td></tr>

<tr><td colspan="3">b) Open File</td> </tr>
<tr><td valign='top'><span class="indent">PDB File:</span></td>            <td valign='top'>[no command available]</td> <td valign='top'></td></tr>
<tr><td valign='top'><span class="indent">mmCIF File:</span></td>          <td valign='top'>[no command available]</td> <td valign='top'></td></tr>
<tr><td valign='top'><span class="indent">Mol2 File:</span></td>          <td valign='top'>[no command available]</td> <td valign='top'></td></tr>
<tr><td valign='top'><span class="indent">SDF File:</span></td>          <td valign='top'>[no command available]</td> <td valign='top'></td></tr>
<tr><td valign='top'><span class="indent">XYZ File:</span></td>          <td valign='top'>[no command available]</td> <td valign='top'></td></tr>
<tr><td valign='top'><span class="indent">URL (Same Host):</span></td>          <td valign='top'>load url [https://files.rcsb.org/view/1gpk.pdb]</td> <td valign='top'><a href="#downloadUrl">downloadUrl</a></td></tr>
<tr><td valign='top'><span class="indent">State/Script File:</span></td>   <td valign='top'>[no command available]</td> <td valign='top'><a href="#loadScript">loadScript</a></td></tr>
<tr><td valign='top'><span class="indent">Selection File:</span></td>   <td valign='top'>[no command available]</td> <td valign='top'></td></tr>

<tr><td colspan="3">c) Open VAST Alignment</td> </tr>
<tr><td valign='top'><span class="indent">Invariant Substructure Superposed:</span></td>           <td valign='top'>load alignment [1HHO,4N7N] | parameters &atype=1</td> <td valign='top'><a href="#downloadAlignment">downloadAlignment</a></td></tr>
<tr><td valign='top'><span class="indent">All Matching Molecules Superposed:</span></td>           <td valign='top'>load alignment [1HHO,4N7N] | parameters &atype=0</td> <td valign='top'><a href="#downloadAlignment">downloadAlignment</a></td></tr>

<tr><td colspan="3">d) 3D Printing</td> </tr>
<tr><td valign='top'><span class="indent">VRML (Color, W/ Stabilizers):</span></td>          <td valign='top'>export vrml stabilizer file</td> <td valign='top'><a href="#saveVrmlFile">saveVrmlFile</a></td></tr>
<tr><td valign='top'><span class="indent">STL (W/ Stabilizers):</span></td>          <td valign='top'>export stl stabilizer file</td> <td valign='top'><a href="#saveStlFile">saveStlFile</a></td></tr>

<tr><td valign='top'><span class="indent">VRML (Color):</span></td>          <td valign='top'>export vrml file</td> <td valign='top'><a href="#saveVrmlFile">saveVrmlFile</a></td></tr>
<tr><td valign='top'><span class="indent">STL:</span></td>          <td valign='top'>export stl file</td> <td valign='top'><a href="#saveStlFile">saveStlFile</a></td></tr>
<tr><td valign='top'><span class="indent">Add All Stabilizers:</span></td>          <td valign='top'>stabilizer</td> <td valign='top'><a href="#addStabilizer">addStabilizer</a></td></tr>
<tr><td valign='top'><span class="indent">Remove All Stabilizers:</span></td>          <td valign='top'>set stabilizer off</td> <td valign='top'><a href="#hideStabilizer">hideStabilizer</a></td></tr>
<tr><td valign='top'><span class="indent">Add One Stabilizer:</span></td>          <td valign='top'>add one stabilizer | [atom serial] [atom serial]</td> <td valign='top'></td></tr>
<tr><td valign='top'><span class="indent">Remove One Stabilizer:</span></td>          <td valign='top'>remove one stabilizer | [atom serial] [atom serial]</td> <td valign='top'></td></tr>
<tr><td valign='top'><span class="indent">Set Thickness:</span></td>          <td valign='top'>set thickness | linerad 0.6 | coilrad 1 | stickrad 0.8 | ribbonthick 0.8 | proteinwidth 2 | nucleotidewidth 1.2 | ballscale 0.6</td> <td valign='top'></td></tr>
<tr><td valign='top'><span class="indent">Reset Thickness:</span></td>          <td valign='top'>reset thickness</td> <td valign='top'><a href="#resetAfter3Dprint">resetAfter3Dprint</a></td></tr>

<tr><td colspan="3">f) Save Files</td> </tr>
<tr><td valign='top'><span class="indent">PNG Image:</span></td>          <td valign='top'>export canvas (URL example: <a href="https://www.ncbi.nlm.nih.gov/Structure/icn3d/full.html?mmdbid=1top&command=export%20canvas" target="_blank">https://www.ncbi.nlm.nih.gov/Structure/icn3d/full.html?mmdbid=1top&command=export%20canvas</a>)</td> <td valign='top'><a href="#saveFile">saveFile([filename], 'png')</a></td></tr>
<tr><td valign='top'><span class="indent">State File:</span></td>            <td valign='top'>[no command available]</td> <td valign='top'>saveFile</td></tr>
<tr><td valign='top'><span class="indent">All Selections:</span></td>   <td valign='top'>[no command available]</td> <td valign='top'>saveFile</td></tr>
<tr><td valign='top'><span class="indent">Residue Counts:</span></td>   <td valign='top'>[no command available]</td> <td valign='top'>saveFile</td></tr>
<tr><td valign='top'><span class="indent">Interaction List:</span></td>                <td valign='top'>export interactions</td> <td valign='top'><a href="#exportInteractions">exportInteractions</a></td></tr>

<tr><td valign='top'>g) Share Link:</td>         <td valign='top'>[no command available]</td> <td valign='top'><a href="#shareLink">shareLink</a></td></tr>

</tbody></table>
<br>
<a name="select"></a><b>2. Select</b> <a href="#Top"><span class="top">&nbsp;&nbsp;&nbsp;</span></a><br>
<table width='100%'><tr><td valign='top' width='30%'><b>Menu</b></td><td valign='top' width='40%'><b>Command</b></td><td valign='top'><b>Method</b></td></tr>
<tr><td valign='top'>a) Defined Sets:</td>     <td valign='top'>defined sets</td> <td valign='top'><a href="#showSets">showSets</a></td></tr>
<tr><td valign='top'><span class="indent">Click a set:</span></td>    <td valign='top'>select saved atoms [name1,name2]</td> <td valign='top'><a href="#changeCustomAtoms">changeCustomAtoms</a></td></tr>

<tr><td valign='top'>b) All:</td>     <td valign='top'>select all</td> <td valign='top'><a href="#selectAll">selectAll</a></td></tr>

<tr><td colspan="3">c) by Distance</td> </tr>
<tr><td valign='top'><span class="indent">Display:</span></td>            <td valign='top'>select zone cutoff [cutoff in angstrom]</td> <td valign='top'><a href="#pickCustomSphere">pickCustomSphere</a></td></tr>

<tr><td valign='top'>d) Inverse:</td>     <td valign='top'>select complement</td> <td valign='top'><a href="#selectComplement">selectComplement</a></td></tr>

<tr><td valign='top'>e) Advanced</td><td valign='top'>select [command] | name [commandname]</td> <td valign='top'><a href="#selectByCommand">selectByCommand</a></td></tr>

<tr><td colspan="3"><br>f) Select on 3D</td> </tr>
<tr><td valign='top'><span class="indent">Chain:</span></td>  <td valign='top'>set pk chain</td> <td valign='top'>me.icn3d.pk = 4; me.icn3d.opts['pk'] = 'chain';</td></tr>
<tr><td valign='top'><span class="indent">Strand/Helix (Alt):</span></td>  <td valign='top'>set pk strand</td> <td valign='top'>me.icn3d.pk = 3; me.icn3d.opts['pk'] = 'strand';</td></tr>
<tr><td valign='top'><span class="indent">Residue (Alt):</span></td>  <td valign='top'>set pk residue</td> <td valign='top'>me.icn3d.pk = 2; me.icn3d.opts['pk'] = 'residue';</td></tr>
<tr><td valign='top'><span class="indent">Atom (Alt):</span></td>     <td valign='top'>set pk atom</td> <td valign='top'>me.icn3d.pk = 41; me.icn3d.opts['pk'] = 'atom';</td></tr>

<tr><td valign='top'>g) Save Selection:</td>      <td valign='top'>select [command] | name [commandname]</td> <td valign='top'><a href="#selectByCommand">selectByCommand</a></td></tr>
<tr><td valign='top'>h) Clear Selection:</td>      <td valign='top'>clear all</td> <td valign='top'><a href="#selectAll">selectAll</a></td></tr>

<tr><td colspan="3"><br>i) Highlight Color</td> </tr>
<tr><td valign='top'><span class="indent">Yellow:</span></td>   <td valign='top'>set highlight color yellow</td> <td valign='top'></td></tr>
<tr><td valign='top'><span class="indent">Green:</span></td>    <td valign='top'>set highlight color green</td> <td valign='top'></td></tr>
<tr><td valign='top'><span class="indent">Red:</span></td>        <td valign='top'>set highlight color red</td> <td valign='top'></td></tr>

<tr><td colspan="3"><br>j) Highlight Style</td> </tr>
<tr><td valign='top'><span class="indent">Outline:</span></td>              <td valign='top'>set highlight style outline</td> <td valign='top'>me.icn3d.bHighlight = 1;</td></tr>
<tr><td valign='top'><span class="indent">3D Objects:</span></td>         <td valign='top'>set highlight style 3d</td> <td valign='top'>me.icn3d.bHighlight = 2;</td></tr>

</tbody></table>
<br>
<a name="selectb"></a><b>2b. Selection Definition</b> <a href="#Top"><span class="top">&nbsp;&nbsp;&nbsp;</span></a><br>
<div>
In the dialog Select -&gt; Advanced, users can use simple specification to select atoms: <br/><br/>
<b>Specification:</b> In the selection "$1HHO,4N7N.A,B,C:5-10,KRDE,chemicals@CA,C":
<ul>
<li>"$1HHO,4N7N" uses "$" to indicate structure selection.<br/>
<li>".A,B,C" uses "." to indicate chain selection.<br/>
<li>":5-10,KRDE,chemicals" uses ":" to indicate residue selection. Residue selection could be residue number (5-10), one-letter sequence (KRDE), or predefined names: "proteins", "nucleotides", "chemicals", "ions", and "water".<br/>
<li>"@CA,C" uses "@" to indicate atom selection.<br/>
<li>Partial definition is allowed, e.g., ":1-10" selects all residue IDs 1-10 in all chains.<br/>
</ul>
<b>Set Operation:</b>
<ul>
<li>Users can select multiple items in "All Selections".<br/>
<li>Different selections can be united (with "<b>or</b>", default), intersected (with "<b>and</b>"), or negated (with "<b>not</b>"). For example, ":1-10 or :K" selects all residues 1-10 and all Lys residues. ":1-10 and :K" selects all Lys residues in the range of residue number 1-10. ":1-10 or not :K" selects all residues 1-10, which are not Lys residues.
</ul>
<b>Full commands in url or command window:</b>
<ul>
<li>Select without saving the set: select $1HHO,4N7N.A,B,C:5-10,KRDE,chemicals@CA,C<br/>
<li>Select and save: select $1HHO,4N7N.A,B,C:5-10,KRDE,chemicals@CA,C | name my_name
</ul>
</div>
<br>
<a name="view"></a><b>3. View</b> <a href="#Top"><span class="top">&nbsp;&nbsp;&nbsp;</span></a><br>
<table width='100%'><tr><td valign='top' width='30%'><b>Menu</b></td><td valign='top' width='40%'><b>Command</b></td><td valign='top'><b>Method</b></td></tr>
<tbody>

<tr><td valign='top'>a) View -&gt; View Only Selection:</td>  <td valign='top'>show selection</td> <td valign='top'><a href="#showSelection">showSelection</a></td></tr>
<tr><td valign='top'>b) View -&gt; Zoom in Selection:</td>  <td valign='top'>zoom selection</td> <td valign='top'><a href="#zoominSelection">zoominSelection</a></td></tr>
<tr><td valign='top'>c) View -&gt; Center on Selection:</td>  <td valign='top'>center selection</td> <td valign='top'><a href="#centerSelection">centerSelection</a></td></tr>

<tr><td colspan="3"><br>d) View -&gt; Chemical Binding</td> </tr>
<tr><td valign='top'><span class="indent">Show:</span></td>            <td valign='top'>set chemicalbinding show</td> <td valign='top'>me.setOption('chemicalbinding', 'show');</td></tr>
<tr><td valign='top'><span class="indent">Hide:</span></td>            <td valign='top'>set chemicalbinding hide</td> <td valign='top'>me.setOption('chemicalbinding', 'hide');</td></tr>

<tr><td colspan="3"><br>e) View -&gt; H-Bonds to Selection</td> </tr>
<tr><td valign='top'><span class="indent">Show:</span></td>            <td valign='top'>hbonds [hbond threshold in angstrom]</td> <td valign='top'><a href="#showHbonds">showHbonds</a></td></tr>
<tr><td valign='top'><span class="indent">Hide:</span></td>            <td valign='top'>set hbonds off</td> <td valign='top'><a href="#hideHbonds">hideHbonds</a></td></tr>

<tr><td colspan="3"><br>f) View -&gt; Disulfide Bonds</td> </tr>
<tr><td valign='top'><span class="indent">Show:</span></td>            <td valign='top'>disulfide bonds</td> <td valign='top'><a href="#showSsbonds">showSsbonds</a></td></tr>
<tr><td valign='top'><span class="indent">Hide:</span></td>            <td valign='top'>set disulfide bonds off</td> <td valign='top'>me.icn3d.opts["ssbonds"] = "no";</td></tr>

<tr><td colspan="3"><br>g) View -&gt; Cross-Linkages</td> </tr>
<tr><td valign='top'><span class="indent">Show:</span></td>            <td valign='top'>cross linkage</td> <td valign='top'>me.icn3d.bShowCrossResidueBond = true;</td></tr>
<tr><td valign='top'><span class="indent">Hide:</span></td>            <td valign='top'>set cross linkage off</td> <td valign='top'>me.icn3d.bShowCrossResidueBond = false;</td></tr>

<tr><td colspan="3"><br>h) View -&gt; Assembly (PDB, mmCIF, or MMTF files only)</td> </tr>
<tr><td valign='top'><span class="indent">yes:</span></td>                <td valign='top'>set assembly on</td> <td valign='top'>me.icn3d.bAssembly = true;</td></tr>
<tr><td valign='top'><span class="indent">no:</span></td>                 <td valign='top'>set assembly off</td> <td valign='top'>me.icn3d.bAssembly = false;</td></tr>

<tr><td colspan="3"><br>i) View -&gt; Distance</td> </tr>
<tr><td valign='top' rowspan="2"><span class="indent">Measure:</span></td>            <td valign='top'>add label [label text] | x [x] y [y] z [z] | size [label size] | color [FF0000] | background [FFFFFF]</td> <td valign='top'><a href="#addLabel">addLabel</a></td></tr>
<tr>                                                               <td valign='top'>add line | x1 [x1] y1 [y1] z1 [z1] | x2 [x2] y2 [y2] z2 [z2] | color [FFFF00] | dashed [true]</td> <td valign='top'><a href="#addLine">addLine</a></td></tr>
<tr><td valign='top'><span class="indent">Hide:</span></td>            <td valign='top'>set lines off</td> <td valign='top'>me.icn3d.labels['distance'] = []; me.icn3d.lines['distance'] = [];</td></tr>

<tr><td colspan="3"><br>j) View -&gt; Label</td> </tr>
<tr><td valign='top'><span class="indent">by Picking Atoms:</span></td>            <td valign='top'>add label [label text] | x [x] y [y] z [z] | size [label size] | color [FF0000] | background [FFFFFF]</td> <td valign='top'><a href="#addLabel">addLabel</a></td></tr>
<tr><td valign='top'><span class="indent">per Selection:</span></td>            <td valign='top'>add label [label text] | size [label size] | color [FF0000] | background [FFFFFF]</td> <td valign='top'><a href="#addLabel">addLabel</a></td></tr>
<tr><td valign='top'><span class="indent">per Residue:</span></td>            <td valign='top'>add residue labels</td> <td valign='top'><a href="#addResiudeLabels">addResiudeLabels</a></td></tr>
<tr><td valign='top'><span class="indent">per Chain:</span></td>            <td valign='top'>add chain labels</td> <td valign='top'><a href="#addLabel">addLabel</a></td></tr>
<tr><td valign='top'><span class="indent">Remove:</span></td>            <td valign='top'>set labels off</td> <td valign='top'><a href="#addChainLabels">addChainLabels</a></td></tr>

<tr><td colspan="3"><br>k) View -&gt; Reset:</td> </tr>
<tr><td valign='top'><span class="indent">All:</span></td>                <td valign='top'>reset</td> <td valign='top'><a href="#renderFinalStep">renderFinalStep</a></td></tr>
<tr><td valign='top'><span class="indent">Orientation:</span></td>                 <td valign='top'>reset orientation</td> <td valign='top'><a href="#resetOrientation">resetOrientation</a></td></tr>

<tr><td colspan="3"><br>l) View -&gt; Auto Rotation</td> </tr>
<tr><td valign='top'><span class="indent">Rotate Left:</span></td>              <td valign='top'>rotate left</td> <td valign='top'><a href="#rotStruc">rotStruc</a></td></tr>
<tr><td valign='top'><span class="indent">Rotate Right:</span></td>              <td valign='top'>rotate right</td> <td valign='top'><a href="#rotStruc">rotStruc</a></td></tr>
<tr><td valign='top'><span class="indent">Rotate Up:</span></td>              <td valign='top'>rotate up</td> <td valign='top'><a href="#rotStruc">rotStruc</a></td></tr>
<tr><td valign='top'><span class="indent">Rotate Down:</span></td>              <td valign='top'>rotate down</td> <td valign='top'><a href="#rotStruc">rotStruc</a></td></tr>

<tr><td colspan="3"><br>m) View -&gt; Camera</td> </tr>
<tr><td valign='top'><span class="indent">Perspective:</span></td>        <td valign='top'>set camera perspective</td> <td valign='top'>me.icn3d.opts['camera'] = 'perspective';</td></tr>
<tr><td valign='top'><span class="indent">Orthographic:</span></td>       <td valign='top'>set camera orthographic</td> <td valign='top'>me.icn3d.opts['camera'] = 'orthographic';</td></tr>

<tr><td colspan="3"><br>n) View -&gt; Fog</td> </tr>
<tr><td valign='top'><span class="indent">On:</span></td>                <td valign='top'>set fog on</td> <td valign='top'>me.icn3d.opts['fog'] = 'yes';</td></tr>
<tr><td valign='top'><span class="indent">Off:</span></td>                 <td valign='top'>set fog off</td> <td valign='top'>me.icn3d.opts['fog'] = 'no';</td></tr>

<tr><td colspan="3"><br>o) View -&gt; Slab</td> </tr>
<tr><td valign='top'><span class="indent">On:</span></td>                <td valign='top'>set slab on</td> <td valign='top'>me.icn3d.opts['slab'] = 'yes';</td></tr>
<tr><td valign='top'><span class="indent">Off:</span></td>                 <td valign='top'>set slab off</td> <td valign='top'>me.icn3d.opts['slab'] = 'no';</td></tr>

<tr><td colspan="3"><br>p) View -&gt; XYZ-axes</td> </tr>
<tr><td valign='top'><span class="indent">Show:</span></td>                <td valign='top'>set axis on</td> <td valign='top'>me.icn3d.opts['axis'] = 'yes';</td></tr>
<tr><td valign='top'><span class="indent">Hide:</span></td>                 <td valign='top'>set axis off</td> <td valign='top'>me.icn3d.opts['axis'] = 'no';</td></tr>

<tr><td valign='top'>q) View -&gt; Undo:</td>     <td valign='top'>back</td> <td valign='top'><a href="#back">back</a></td></tr>

<tr><td valign='top'>r) View -&gt; Redo:</td>     <td valign='top'>forward</td> <td valign='top'><a href="#forward">forward</a></td></tr>

</tbody></table>

<br>
<a name="style"></a><b>4. Style</b> <a href="#Top"><span class="top">&nbsp;&nbsp;&nbsp;</span></a><br>
<table width='100%'><tr><td valign='top' width='30%'><b>Menu</b></td><td valign='top' width='40%'><b>Command</b></td><td valign='top'><b>Method</b></td></tr>
<tbody>
<tr><td colspan="3">a) Style -&gt; Protein</td> </tr>
<tr><td width="240"><span class="indent">Ribbon:</span></td>             <td valign='top'>style proteins ribbon</td> <td valign='top'><a href="#setStyle">setStyle</a></td></tr>
<tr><td valign='top'><span class="indent">Strand:</span></td>             <td valign='top'>style proteins strand</td> <td valign='top'><a href="#setStyle">setStyle</a></td></tr>
<tr><td valign='top'><span class="indent">Cylinder and Plate:</span></td>   <td valign='top'>style proteins cylinder and plate</td> <td valign='top'><a href="#setStyle">setStyle</a></td></tr>
<tr><td valign='top'><span class="indent">Schematic:</span></td>           <td valign='top'>style proteins schematic</td> <td valign='top'><a href="#setStyle">setStyle</a></td></tr>
<tr><td valign='top'><span class="indent">C Alpha Trace:</span></td>      <td valign='top'>style proteins c alpha trace</td> <td valign='top'><a href="#setStyle">setStyle</a></td></tr>
<tr><td valign='top'><span class="indent">B Factor Tube:</span></td>      <td valign='top'>style proteins b factor tube</td> <td valign='top'><a href="#setStyle">setStyle</a></td></tr>
<tr><td valign='top'><span class="indent">Lines:</span></td>              <td valign='top'>style proteins lines</td> <td valign='top'><a href="#setStyle">setStyle</a></td></tr>
<tr><td valign='top'><span class="indent">Stick:</span></td>              <td valign='top'>style proteins stick</td> <td valign='top'><a href="#setStyle">setStyle</a></td></tr>
<tr><td valign='top'><span class="indent">Ball and Stick:</span></td>       <td valign='top'>style proteins ball and stick</td> <td valign='top'><a href="#setStyle">setStyle</a></td></tr>
<tr><td valign='top'><span class="indent">Sphere:</span></td>             <td valign='top'>style proteins sphere</td> <td valign='top'><a href="#setStyle">setStyle</a></td></tr>
<tr><td valign='top'><span class="indent">Hide:</span></td>            <td valign='top'>style proteins nothing</td> <td valign='top'><a href="#setStyle">setStyle</a></td></tr>

<tr><td colspan="3"><br>b) Style -&gt; Side Chains</td> </tr>
<tr><td valign='top'><span class="indent">Lines:</span></td>              <td valign='top'>style sidec lines</td> <td valign='top'><a href="#setStyle">setStyle</a></td></tr>
<tr><td valign='top'><span class="indent">Stick:</span></td>              <td valign='top'>style sidec stick</td> <td valign='top'><a href="#setStyle">setStyle</a></td></tr>
<tr><td valign='top'><span class="indent">Ball and Stick:</span></td>       <td valign='top'>style sidec ball and stick</td> <td valign='top'><a href="#setStyle">setStyle</a></td></tr>
<tr><td valign='top'><span class="indent">Sphere:</span></td>             <td valign='top'>style sidec sphere</td> <td valign='top'><a href="#setStyle">setStyle</a></td></tr>
<tr><td valign='top'><span class="indent">Hide:</span></td>            <td valign='top'>style sidec nothing</td> <td valign='top'><a href="#setStyle">setStyle</a></td></tr>

<tr><td colspan="3"><br>c) Style -&gt; Nucleotides</td> </tr>
<tr><td valign='top'><span class="indent">Nucleotide Cartoon:</span></td> <td valign='top'>style nucleotides nucleotide cartoon</td> <td valign='top'><a href="#setStyle">setStyle</a></td></tr>
<tr><td valign='top'><span class="indent">O3' Trace:</span></td>   <td valign='top'>style nucleotides o3 trace</td> <td valign='top'><a href="#setStyle">setStyle</a></td></tr>
<tr><td valign='top'><span class="indent">Schematic:</span></td>            <td valign='top'>style nucleotides schematic</td> <td valign='top'><a href="#setStyle">setStyle</a></td></tr>
<tr><td valign='top'><span class="indent">Lines:</span></td>              <td valign='top'>style nucleotides lines</td> <td valign='top'><a href="#setStyle">setStyle</a></td></tr>
<tr><td valign='top'><span class="indent">Stick:</span></td>              <td valign='top'>style nucleotides stick</td> <td valign='top'><a href="#setStyle">setStyle</a></td></tr>
<tr><td valign='top'><span class="indent">Ball and Stick:</span></td>       <td valign='top'>style nucleotides ball and stick</td> <td valign='top'><a href="#setStyle">setStyle</a></td></tr>
<tr><td valign='top'><span class="indent">Sphere:</span></td>             <td valign='top'>style nucleotides sphere</td> <td valign='top'><a href="#setStyle">setStyle</a></td></tr>
<tr><td valign='top'><span class="indent">Hide:</span></td>            <td valign='top'>style nucleotides nothing</td> <td valign='top'><a href="#setStyle">setStyle</a></td></tr>

<tr><td colspan="3"><br>d) Style -&gt; Chemicals</td> </tr>
<tr><td valign='top'><span class="indent">Lines:</span></td>              <td valign='top'>style chemicals lines</td> <td valign='top'><a href="#setStyle">setStyle</a></td></tr>
<tr><td valign='top'><span class="indent">Stick:</span></td>              <td valign='top'>style chemicals stick</td> <td valign='top'><a href="#setStyle">setStyle</a></td></tr>
<tr><td valign='top'><span class="indent">Ball and Stick:</span></td>       <td valign='top'>style chemicals ball and stick</td> <td valign='top'><a href="#setStyle">setStyle</a></td></tr>
<tr><td valign='top'><span class="indent">Schematic:</span></td>           <td valign='top'>style chemicals schematic</td> <td valign='top'><a href="#setStyle">setStyle</a></td></tr>
<tr><td valign='top'><span class="indent">Sphere:</span></td>             <td valign='top'>style chemicals sphere</td> <td valign='top'><a href="#setStyle">setStyle</a></td></tr>
<tr><td valign='top'><span class="indent">Hide:</span></td>            <td valign='top'>style chemicals nothing</td> <td valign='top'><a href="#setStyle">setStyle</a></td></tr>

<tr><td colspan="3"><br>e) Style -&gt; Ions</td> </tr>
<tr><td valign='top'><span class="indent">Sphere:</span></td>             <td valign='top'>style ions sphere</td> <td valign='top'><a href="#setStyle">setStyle</a></td></tr>
<tr><td valign='top'><span class="indent">Dot:</span></td>                <td valign='top'>style ions dot</td> <td valign='top'><a href="#setStyle">setStyle</a></td></tr>
<tr><td valign='top'><span class="indent">Hide:</span></td>            <td valign='top'>style ions nothing</td> <td valign='top'><a href="#setStyle">setStyle</a></td></tr>

<tr><td colspan="3"><br>f) Style -&gt; Water</td> </tr>
<tr><td valign='top'><span class="indent">Sphere:</span></td>             <td valign='top'>style water sphere</td> <td valign='top'><a href="#setStyle">setStyle</a></td></tr>
<tr><td valign='top'><span class="indent">Dot:</span></td>                <td valign='top'>style water dot</td> <td valign='top'><a href="#setStyle">setStyle</a></td></tr>
<tr><td valign='top'><span class="indent">Hide:</span></td>            <td valign='top'>style water nothing</td> <td valign='top'><a href="#setStyle">setStyle</a></td></tr>

<tr><td colspan="3"><br>g) Style -&gt; Surface Type</td> </tr>
<tr><td width="240"><span class="indent">Van der Waals:</span></td>      <td valign='top'>set surface Van der Waals surface</td> <td valign='top'><a href="#applySurfaceOptions">applySurfaceOptions</a></td></tr>
<tr><td width="240"><span class="indent">VDW with Context:</span></td>      <td valign='top'>set surface Van der Waals surface with context</td> <td valign='top'><a href="#applySurfaceOptions">applySurfaceOptions</a></td></tr>
<tr><td valign='top'><span class="indent">Molecular Surface:</span></td>          <td valign='top'>set surface molecular surface</td> <td valign='top'><a href="#applySurfaceOptions">applySurfaceOptions</a></td></tr>
<tr><td valign='top'><span class="indent">MS with Context:</span></td>          <td valign='top'>set surface molecular surface with context</td> <td valign='top'><a href="#applySurfaceOptions">applySurfaceOptions</a></td></tr>
<tr><td valign='top'><span class="indent">Solvent Accessible:</span></td> <td valign='top'>set surface solvent accessible surface</td> <td valign='top'><a href="#applySurfaceOptions">applySurfaceOptions</a></td></tr>
<tr><td valign='top'><span class="indent">SA with Context:</span></td> <td valign='top'>set surface solvent accessible surface with context</td> <td valign='top'><a href="#applySurfaceOptions">applySurfaceOptions</a></td></tr>

<tr><td valign='top'><br>h) Style -&gt; Remove Surface:</td>                    <td valign='top'>set surface nothing</td> <td valign='top'><a href="#applySurfaceOptions">applySurfaceOptions</a></td></tr>

<tr><td colspan="3"><br>i) Style -&gt; Surface Opacity</td> </tr>
<tr><td valign='top'><span class="indent">1.0:</span></td>                <td valign='top'>set surface opacity 1.0</td> <td valign='top'><a href="#applySurfaceOptions">applySurfaceOptions</a></td></tr>
<tr><td valign='top'><span class="indent">0.9:</span></td>                <td valign='top'>set surface opacity 0.9</td> <td valign='top'><a href="#applySurfaceOptions">applySurfaceOptions</a></td></tr>
<tr><td valign='top'><span class="indent">0.8:</span></td>                <td valign='top'>set surface opacity 0.8</td> <td valign='top'><a href="#applySurfaceOptions">applySurfaceOptions</a></td></tr>
<tr><td valign='top'><span class="indent">0.7:</span></td>                <td valign='top'>set surface opacity 0.7</td> <td valign='top'><a href="#applySurfaceOptions">applySurfaceOptions</a></td></tr>
<tr><td valign='top'><span class="indent">0.6:</span></td>                <td valign='top'>set surface opacity 0.6</td> <td valign='top'><a href="#applySurfaceOptions">applySurfaceOptions</a></td></tr>
<tr><td valign='top'><span class="indent">0.5:</span></td>                <td valign='top'>set surface opacity 0.5</td> <td valign='top'><a href="#applySurfaceOptions">applySurfaceOptions</a></td></tr>

<tr><td colspan="3"><br>j) Style -&gt; Surface Wireframe</td> </tr>
<tr><td valign='top'><span class="indent">Yes</span></td>                 <td valign='top'>set surface wireframe on</td> <td valign='top'><a href="#applySurfaceOptions">applySurfaceOptions</a></td></tr>
<tr><td valign='top'><span class="indent">No</span></td>                  <td valign='top'>set surface wireframe off</td> <td valign='top'><a href="#applySurfaceOptions">applySurfaceOptions</a></td></tr>

<tr><td colspan="3"><br>k) Style -&gt; Background</td> </tr>
<tr><td valign='top'><span class="indent">Transparent:</span></td>              <td valign='top'>set background transparent</td> <td valign='top'>me.icn3d.opts['background'] = 'transparent'</td></tr>
<tr><td valign='top'><span class="indent">Black:</span></td>              <td valign='top'>set background black</td> <td valign='top'>me.icn3d.opts['background'] = 'black'</td></tr>
<tr><td valign='top'><span class="indent">Grey:</span></td>               <td valign='top'>set background grey</td> <td valign='top'>me.icn3d.opts['background'] = 'grey'</td></tr>
<tr><td valign='top'><span class="indent">White:</span></td>              <td valign='top'>set background white</td> <td valign='top'>me.icn3d.opts['background'] = 'white'</td></tr>

</tbody></table>
<br>
<a name="color"></a><b>5. Color</b> <a href="#Top"><span class="top">&nbsp;&nbsp;&nbsp;</span></a><br>
<table width='100%'><tr><td valign='top' width='30%'><b>Menu</b></td><td valign='top' width='40%'><b>Command</b></td><td valign='top'><b>Method</b></td></tr>
<tbody><tr><td colspan="3">a)</td> </tr>
<tr><td width="240">Color -&gt; Secondary:</td> <td valign='top'>color secondary structure</td> <td valign='top'><a href="#setColorByOptions">setColorByOptions</a></td></tr>
<tr><td valign='top'>Color -&gt; Charge:</td>  <td valign='top'>color charge</td> <td valign='top'><a href="#setColorByOptions">setColorByOptions</a></td></tr>
<tr><td valign='top'>Color -&gt; Hydrophobic:</td>  <td valign='top'>color hydrophobic</td> <td valign='top'><a href="#setColorByOptions">setColorByOptions</a></td></tr>
<tr><td valign='top'>Color -&gt; Chain:</td>     <td valign='top'>color chain</td> <td valign='top'><a href="#setColorByOptions">setColorByOptions</a></td></tr>
<tr><td valign='top'>Color -&gt; Residue:</td>   <td valign='top'>color residue</td> <td valign='top'><a href="#setColorByOptions">setColorByOptions</a></td></tr>
<tr><td valign='top'>Color -&gt; Atom:</td>  <td valign='top'>color atom</td> <td valign='top'><a href="#setColorByOptions">setColorByOptions</a></td></tr>

<tr><td colspan="3"><br>b) Color -&gt; Unicolor</td> </tr>
<tr><td valign='top'><span class="indent">Red:</span></td>                <td valign='top'>color red</td> <td valign='top'><a href="#setColorByOptions">setColorByOptions</a></td></tr>
<tr><td valign='top'><span class="indent">Green:</span></td>              <td valign='top'>color green</td> <td valign='top'><a href="#setColorByOptions">setColorByOptions</a></td></tr>
<tr><td valign='top'><span class="indent">Blue:</span></td>               <td valign='top'>color blue</td> <td valign='top'><a href="#setColorByOptions">setColorByOptions</a></td></tr>
<tr><td valign='top'><span class="indent">Magenta:</span></td>            <td valign='top'>color magenta</td> <td valign='top'><a href="#setColorByOptions">setColorByOptions</a></td></tr>
<tr><td valign='top'><span class="indent">Yellow:</span></td>             <td valign='top'>color yellow</td> <td valign='top'><a href="#setColorByOptions">setColorByOptions</a></td></tr>
<tr><td valign='top'><span class="indent">Cyan:</span></td>               <td valign='top'>color cyan</td> <td valign='top'><a href="#setColorByOptions">setColorByOptions</a></td></tr>
<tr><td valign='top'><span class="indent">White:</span></td>              <td valign='top'>color white</td> <td valign='top'><a href="#setColorByOptions">setColorByOptions</a></td></tr>
<tr><td valign='top'><span class="indent">Grey:</span></td>               <td valign='top'>color grey</td> <td valign='top'><a href="#setColorByOptions">setColorByOptions</a></td></tr>

<tr><td colspan="3"><br>c) Color -&gt; Custom</td> </tr>
<tr><td valign='top'><span class="indent">Apply:</span></td>              <td valign='top'>color [e.g., FF0000]</td> <td valign='top'><a href="#setColorByOptions">setColorByOptions</a></td></tr>
</tbody></table>
<br>
<a name="windows"></a><b>6. Windows</b> <a href="#Top"><span class="top">&nbsp;&nbsp;&nbsp;</span></a><br>
<table width='100%'><tr><td valign='top' width='30%'><b>Menu</b></td><td valign='top' width='40%'><b>Command</b></td><td valign='top'><b>Method</b></td></tr>
<tbody>
<tr><td width="240">a) Windows -&gt; View Sequences & Annotations:</td>                <td valign='top'>view annotations</td> <td valign='top'><a href="#applyCommandAnnotationsAndCddSite">applyCommandAnnotationsAndCddSite</a></td></tr>
<tr><td valign='top'>b) Windows -&gt; View Interactions</td>         <td valign='top'>view interactions</td> <td valign='top'><a href="#set2DDiagrams">set2DDiagrams</a></td></tr>
<tr><td colspan="3"><br>c) Windows -&gt; View Links</td> </tr>
<tr><td valign='top'><span class="indent">Structure Summary:</span></td>          <td valign='top'>[no command available]</td> <td valign='top'></td></tr>
<tr><td valign='top'><span class="indent">Find Similar Structures:</span></td>   <td valign='top'>[no command available]</td> <td valign='top'></td></tr>
<tr><td valign='top'><span class="indent">Literature:</span></td>                <td valign='top'>[no command available]</td> <td valign='top'></td></tr>
<tr><td valign='top'><span class="indent">Protein:</span></td>                <td valign='top'>[no command available]</td> <td valign='top'></td></tr>

</tbody></table>
<br>
<a name="help"></a><b>7. Help</b> <a href="#Top"><span class="top">&nbsp;&nbsp;&nbsp;</span></a><br>
<table width='100%'><tr><td width='30%'><b>Menu</b></td><td width='40%'><b>Command</b></td> <td></td></tr>
<tr><td valign='top'>a) Help -&gt; About iCn3D:</td>      <td valign='top'>[no command available]</td> <td></td></tr>
<tr><td valign='top'>b) Help -&gt; Help DOc:</td>      <td valign='top'>[no command available]</td> <td></td></tr>
<tr><td valign='top'>c) Help -&gt; Web Methods:</td>      <td valign='top'>[no command available]</td> <td></td></tr>
<tr><td valign='top'>d) Help -&gt; Transform Hints:</td>      <td valign='top'>[no command available]</td> <td></td></tr>
<tr><td valign='top'>e) Help -&gt; Selection Hints:</td>      <td valign='top'>[no command available]</td> <td></td></tr>
</tbody></table>

<hr>

    <a name="DataStructure"></a>
    <h2>Data Structure<img src="https://www.ncbi.nlm.nih.gov/Structure/IMG/spacer.gif" width="25" height="1" border="0"><a href="#Top"><img src="https://www.ncbi.nlm.nih.gov/Structure/IMG/arrowup_blue.gif" width="12" height="12" border="0" alt="back to top"></a></h2>
    <ul>
    <li><b>Atom Object</b>
      <pre>      var atomDetails = {
        serial: serial,         // required, unique atom id
        structure: structure,   // required, used to identify the structure
        chain: chain,           // required, used to identify the chain
        resi: resi,             // required, used to identify residue ID, has to be a integer
        name: atom,             // required, atom name
        coord: coord,           // required, used to draw 3D shape
        coord2: ribbonCoord,    // optional, ribbon's real positions, used to draw stabilizers for 3D printing
        bonds: [],              // required, used to connect atoms

        color: color,           // optional, used to assign atom color, default is grey
        style: style,           // optional, used to assign atom style as one of 13 styles: ribbon, strand, cylinder and plate,
                                //   nucleotide cartoon, o3' trace, schematic, c alpha trace, b factor tube, lines, stick,
                                //   ball and stick, sphere, dot, nothing
        style2: sideChainStyle, // optional, used to assign protein side chain style as one of 13 styles: ribbon, strand, cylinder and plate,
                                //   nucleotide cartoon, o3' trace, schematic, c alpha trace, b factor tube, lines, stick,
                                //   ball and stick, sphere, dot, nothing
        het: false,             // optional, used to determine chemicals, water, ions, etc
        resn: resn,             // optional, used to determine protein or nucleotide
        b: b,                   // optional, used to draw B-factor tube
        elem: elem,             // optional, used to determine hydrogen bond
        ss: 'coil',             // optional, used to show secondary structures
        ssbegin: false,         // optional, used to show the beginning of secondary structures
        ssend: false            // optional, used to show the end of secondary structures
      }
      </pre>
    </li>
    <li><a name="DataInputs"><b>Data required from the input to set up 3D viewer</b></a><br>
    <pre>
        atoms: {};          // REQUIRED, all atoms in the input: atom index => atom details, ONLY THIS HASH STORE ALL ATOM DETAILS
        dAtoms: {};         // REQUIRED, atoms used to display: atom index => 1
        pmin: pmin;         // REQUIRED, the position with minimum x,y,z
        pmax: pmax;         // REQUIRED, the position with maximum x,y,z
        cnt: cnt;           // REQUIRED, total number of atoms
        maxD: pmax.distanceTo(pmin);             // REQUIRED, max dimension of the structure
        center: psum.multiplyScalar(1.0 / cnt);  // REQUIRED, center position of the structure

        hAtoms: {};         // OPTIONAL, atoms used to highlight: atom index => 1
        structures: {};         // OPTIONAL, structure name => array of chain IDs
        chains: {};           // OPTIONAL, structure_chain name => (atom index => 1)
        residues: {};          // OPTIONAL, structure_chain_resi name => (atom index => 1)

        chainsSeq: {};        // OPTIONAL, structure_chain name => array of residue object: {"name":[residue name], "resi": [residue number]}
        chainsAn: {};         // OPTIONAL, structure_chain name => array of annotation
        chainsAnTitle: [];    // OPTIONAL, the titles for the array of annotation
        molTitle: "";       // OPTIONAL, ID and name
        hbondpnts: [];      // OPTIONAL, array of positions of hydrogen bond
        ssbondpnts: {};     // OPTIONAL, structure name => positions of disulfide bonds
        residueId2Name: {}; // OPTIONAL, structure_chain_resi => one letter abbreviation

        proteins: {};       // OPTIONAL, proteins: atom index => 1
        sidec: {};          // OPTIONAL, protein sidechains: atom index => 1
        calphas: {};        // OPTIONAL, protein C alphas: atom index => 1
        nucleotides: {};    // OPTIONAL, DNA, RNA: atom index => 1
        nucleotidesO3: {};  // OPTIONAL, DNA, RNA O3': atom index => 1
        chemicals: {};        // OPTIONAL, chemicals: atom index => 1
        ions: {};           // OPTIONAL, ions: atom index => 1
        water: {};          // OPTIONAL, water: atom index => 1
    </pre>
    </li>
    </ul>

    <hr>

    <a name="DisplayOptions"></a>
    <h2>Display Options<img src="https://www.ncbi.nlm.nih.gov/Structure/IMG/spacer.gif" width="25" height="1" border="0"><a href="#Top"><img src="https://www.ncbi.nlm.nih.gov/Structure/IMG/arrowup_blue.gif" width="12" height="12" border="0" alt="back to top"></a></h2>
    <ul>
    <li><b>Default values and possible choices of display options</b>
      <pre>          var opts = {};
          opts['camera']             = 'perspective';        //perspective, orthographic
          opts['background']         = 'transparent';        //transparent, black, grey, white
          opts['color']              = 'chain';              //secondary structure, charge, hydrophobic, chain, residue, atom,
                                                             // red, green, blue, magenta, yellow, cyan, white, grey, custom
          opts['proteins']           = 'ribbon';             //ribbon, strand, cylinder and plate, schematic, c alpha trace,
                                                             // b factor tube, lines, stick, ball and stick, sphere, nothing
          opts['sidec']              = 'nothing';            //lines, stick, ball and stick, sphere, nothing
          opts['nucleotides']        = 'o3 trace';           //nucleotide cartoon, o3 trace, schematic, lines, stick,
                                                             // nucleotides ball and stick, sphere, nothing
          opts['chemicals']          = 'stick';              //line, stick, ball and stick, schematic, sphere, nothing
          opts['water']              = 'nothing';            //sphere, dot, nothing
          opts['ions']               = 'sphere';             //sphere, dot, nothing
          opts['surface']            = 'nothing';            //van der waals surface, van der waals surface with context,
                                                             //molecular surface, molecular surface with context,
                                                             //solvent accessible surface, solvent accessible surface with context,
                                                             //nothing
          opts['opacity']            = '0.8';                //1.0, 0.9, 0.8, 0.7, 0.6, 0.5
          opts['wireframe']          = 'no';                 //yes, no
          opts['hbonds']             = 'no';                 //yes, no
          opts['ssbonds']            = 'yes';                //yes, no
          opts['chemicalbinding']    = 'hide';               //show, hide
          opts['axis']               = 'no';                 //yes, no
          opts['fog']                = 'no';                 //yes, no
          opts['slab']               = 'no';                 //yes, no
          opts['pk']                 = 'residue';            //no, atom, residue, strand, chain
      </pre>
    </li>
    </ul>

    <hr>

<!-- ======================= EXAMPLES ======================= -->

    <a name="Methods"></a>
    <h2>Method Documents of the core library iCn3D<img src="https://www.ncbi.nlm.nih.gov/Structure/IMG/spacer.gif" width="25" height="1" border="0"><a href="#Top"><img src="https://www.ncbi.nlm.nih.gov/Structure/IMG/arrowup_blue.gif" width="12" height="12" border="0" alt="back to top"></a></h2>

<h3>Options <a href="#Top"><span class="top">&nbsp;&nbsp;&nbsp;</span></a></h3>
<br>
<a name="bHighlight"></a><b>bHighlight</b> <a href="#Top"><span class="top">&nbsp;&nbsp;&nbsp;</span></a><br>
If its value is 1, the selected atoms will be highlighted with outlines around the structure. If its value is 2, the selected atoms will be highlighted with transparent 3D objects such as boxes, ribbons, cylinders, etc. If its value is undefined, no highlight will be shown.<br>
<a name="bImpo"></a><b>bImpo</b> <a href="#Top"><span class="top">&nbsp;&nbsp;&nbsp;</span></a><br>
This is a flag to turn on the rendering of spheres and cylinders using shaders instead of geometries. It's true by default if the browser supports the EXT_frag_depth extension.<br>
<br>
<a name="bRender"></a><b>bRender</b> <a href="#Top"><span class="top">&nbsp;&nbsp;&nbsp;</span></a><br>
This is a flag to turn off the rendering part if a sequence of commands are executed. It's true by default.<br>
<br>
<a name="bStopRotate"></a><b>bStopRotate</b> <a href="#Top"><span class="top">&nbsp;&nbsp;&nbsp;</span></a><br>
Once clicked, this flag can be set as "true" to the automatic rotation. It's false by default.<br>
<br>
<a name="coilWidth"></a><b>coilWidth</b> <a href="#Top"><span class="top">&nbsp;&nbsp;&nbsp;</span></a><br>
This is the coil radius for coils. It's 0.4 by default.<br>
<br>
<a name="cylinderHelixRadius"></a><b>cylinderHelixRadius</b> <a href="#Top"><span class="top">&nbsp;&nbsp;&nbsp;</span></a><br>
This is the cylinder radius for the style 'Cylinder and Plate'. It's 1.6 by default.<br>
<br>
<a name="dAtoms"></a><b>dAtoms</b> <a href="#Top"><span class="top">&nbsp;&nbsp;&nbsp;</span></a><br>
This is a hash used to store all atoms to be displayed. The key is the atom index. Its value is set as 1.<br>
<br>
<a name="dotSphereScale"></a><b>dotSphereScale</b> <a href="#Top"><span class="top">&nbsp;&nbsp;&nbsp;</span></a><br>
This is the ball scale for styles 'Ball and Stick' and 'Dot'. It's 0.3 by default.<br>
<br>
<a name="hAtoms"></a><b>hAtoms</b> <a href="#Top"><span class="top">&nbsp;&nbsp;&nbsp;</span></a><br>
This is a hash used to store all atoms to be highlighted. The key is the atom index. Its value is set as 1.<br>
<br>
<a name="hColor"></a><b>hColor</b> <a href="#Top"><span class="top">&nbsp;&nbsp;&nbsp;</span></a><br>
This defines the highlight color.<br>
<br>
<a name="helixSheetWidth"></a><b>helixSheetWidth</b> <a href="#Top"><span class="top">&nbsp;&nbsp;&nbsp;</span></a><br>
This is the width of protein ribbons. It's 1.3 by default.<br>
<br>
<a name="lineRadius"></a><b>lineRadius</b> <a href="#Top"><span class="top">&nbsp;&nbsp;&nbsp;</span></a><br>
This is the line radius for stabilizers, hydrogen bonds, and distance lines. It's 0.1 by default.<br>
<br>
<a name="matShader"></a><b>matShader</b> <a href="#Top"><span class="top">&nbsp;&nbsp;&nbsp;</span></a><br>
This defines the highlight color using the outline method. It can be defined using the function setOutlineColor().<br>
<br>
<a name="nucleicAcidWidth"></a><b>nucleicAcidWidth</b> <a href="#Top"><span class="top">&nbsp;&nbsp;&nbsp;</span></a><br>
This is the width of nucleotide ribbons. It's 0.8 by default.<br>
<br>
<a name="pAtom"></a><b>pAtom</b> <a href="#Top"><span class="top">&nbsp;&nbsp;&nbsp;</span></a><br>
"pAtom" has the value of the atom index of the picked atom.<br>
<br>
<a name="pAtom2"></a><b>pAtom2</b> <a href="#Top"><span class="top">&nbsp;&nbsp;&nbsp;</span></a><br>
When two atoms are required to be selected (e.g., for measuring distance), "pAtom2" has the value of the atom index of the 2nd picked atom.<br>
<br>
<a name="pk"></a><b>pk</b> <a href="#Top"><span class="top">&nbsp;&nbsp;&nbsp;</span></a><br>
If its value is 1, selecting an atom will select the atom. If its value is 2, selecting an atom will select the residue containing this atom. If its value is 3, selecting an atom will select the strand or helix or coil containing this atom. If its value is 0, no selecting will work.<br>
<br>
<a name="ribbonthickness"></a><b>ribbonthickness</b> <a href="#Top"><span class="top">&nbsp;&nbsp;&nbsp;</span></a><br>
This is the ribbon thickness for helix and sheet ribbons, and nucleotide ribbons. It's 0.4 by default.<br>
<br>
<a name="sphereRadius"></a><b>sphereRadius</b> <a href="#Top"><span class="top">&nbsp;&nbsp;&nbsp;</span></a><br>
This is the sphere radius for the style 'Sphere'. It's 1.5 by default.<br>
<br>
<a name="stickRadius"></a><b>stickRadius</b> <a href="#Top"><span class="top">&nbsp;&nbsp;&nbsp;</span></a><br>
This is the stick radius for sticks. It's 0.4 by default.<br>
<br>
<a name="traceRadius"></a><b>traceRadius</b> <a href="#Top"><span class="top">&nbsp;&nbsp;&nbsp;</span></a><br>
This is the stick radius for C alpha trace and O3' trace. It's 0.2 by default.<br>
<br>

<br>

<h3>Methods <a href="#Top"><span class="top">&nbsp;&nbsp;&nbsp;</span></a></h3>

<br>
<a name="addHlObjects"></a><b>addHlObjects()</b> <a href="#Top"><span class="top">&nbsp;&nbsp;&nbsp;</span></a><br>
Show the highlight for the selected atoms: <a href="#hAtoms">hAtoms</a>.<br>
<br>

<a name="addResiudeLabels"></a><b>addResiudeLabels(atoms, bSchematic)</b> <a href="#Top"><span class="top">&nbsp;&nbsp;&nbsp;</span></a><br>
Add labels for all residues containing the input "atoms". The labels are one-letter residue abbreviations. If "bSchematic" is true, the labels are in circles. Otherwise, they are in round-corner rectangles.<br>
<br>

<a name="applyDisplayOptions"></a><b>applyDisplayOptions(options, atoms)</b> <a href="#Top"><span class="top">&nbsp;&nbsp;&nbsp;</span></a><br>
Apply style and label options to a certain set of atoms.<br>
<br>
<a name="applyOtherOptions"></a><b>applyOtherOptions(options)</b> <a href="#Top"><span class="top">&nbsp;&nbsp;&nbsp;</span></a><br>
Apply the rest options (e.g., hydrogen bonds, center, etc).<br>
<br>
<a name="applySsbondsOptions"></a><b>applySsbondsOptions(options)</b> <a href="#Top"><span class="top">&nbsp;&nbsp;&nbsp;</span></a><br>
Apply the disulfide bond options.<br>
<br>
<a name="applySurfaceOptions"></a><b>applySurfaceOptions(options)</b> <a href="#Top"><span class="top">&nbsp;&nbsp;&nbsp;</span></a><br>
Apply the surface options.<br>
<br>
<a name="applyTransformation"></a><b>applyTransformation()</b> <a href="#Top"><span class="top">&nbsp;&nbsp;&nbsp;</span></a><br>
Update the rotation, translation, and zooming before rendering. Typically used before the function render().<br>
<br>
<a name="buildAxes"></a><b>buildAxes(radius)</b> <a href="#Top"><span class="top">&nbsp;&nbsp;&nbsp;</span></a><br>
Build the xyz-axes from the center of atoms. The maximum axes length is equal to "radius" in angstrom.<br>
<br>
<a name="calculateChemicalHbonds"></a><b>calculateChemicalHbonds(protein, chemicals, threshold)</b> <a href="#Top"><span class="top">&nbsp;&nbsp;&nbsp;</span></a><br>
Set up hydrogen bonds between chemical and protein/nucleotide in the same structure. "protein" and "chemicals" are hashes with atom indices as keys and 1 as values. "threshold" is the maximum distance of hydrogen bonds and has the unit of angstrom.<br>
<br>
<a name="centerAtoms"></a><b>centerAtoms(atoms)</b> <a href="#Top"><span class="top">&nbsp;&nbsp;&nbsp;</span></a><br>
Return an object {"center": center, "maxD": maxD}, where "center" is the center of a set of "atoms" with a value of THREE.Vector3(), and "maxD" is the maximum distance between any two atoms in the set.<br>
<br>
<a name="centerSelection"></a><b>centerSelection()</b> <a href="#Top"><span class="top">&nbsp;&nbsp;&nbsp;</span></a><br>
Center on the selected atoms.<br>
<br>
<a name="createBox"></a><b>createBox(atom, defaultRadius, forceDefault, scale, color, bHighlight)</b> <a href="#Top"><span class="top">&nbsp;&nbsp;&nbsp;</span></a><br>
Create a cube for "atom" with the "defaultRadius". "forceDefault" means to use the default radius. "scale" means scale on the radius. "color" means the color of the cube. "bHighlight" is an option to draw the highlight for the atom.<br>
<br>
<a name="createCylinderCurve"></a><b>createCylinderCurve(atoms, atomNameArray, radius, bLines, bHighlight)</b> <a href="#Top"><span class="top">&nbsp;&nbsp;&nbsp;</span></a><br>
Create small cylinders (thick lines) for "atoms", whose atom name should be in the array atomNameArray. "radius" is radius of the small cylinders. "bLine" is an option to show the cylinders as lines. "bHighlight" is an option to draw the highlight for these atoms. The highlight could be outlines with bHighlight=1 and 3D objects with bHighlight=2 as mentioned <a href="#bHighlight">above</a>.<br>
<br>
<a name="createCylinderHelix"></a><b>createCylinderHelix(atoms, radius, bHighlight)</b> <a href="#Top"><span class="top">&nbsp;&nbsp;&nbsp;</span></a><br>
Create cylinders for alpha helices and ribbons for beta strands in "atoms". "radius" is radius of the cylinders. "bHighlight" is an option to draw the highlight for these atoms. The highlight could be outlines with bHighlight=1 and 3D objects with bHighlight=2 as mentioned <a href="#bHighlight">above</a>.<br>
<br>
<a name="createLabelRepresentation"></a><b>createLabelRepresentation(labels)</b> <a href="#Top"><span class="top">&nbsp;&nbsp;&nbsp;</span></a><br>
Create labels for a list of "labels", each of which has the properties 'position', 'text', 'size', 'color', and 'background'.<br>
<br>
<a name="createLineRepresentation"></a><b>createLineRepresentation(atoms, bHighlight)</b> <a href="#Top"><span class="top">&nbsp;&nbsp;&nbsp;</span></a><br>
Create lines for "atoms". "bHighlight" is an option to draw the highlight for these atoms. The highlight could be outlines with bHighlight=1 and 3D objects with bHighlight=2 as mentioned <a href="#bHighlight">above</a>.<br>
<br>
<a name="createLines"></a><b>createLines(lines)</b> <a href="#Top"><span class="top">&nbsp;&nbsp;&nbsp;</span></a><br>
Create lines for a list of "lines", each of which has the properties 'position1', 'position2', 'color', and a boolean of 'dashed'.<br>
<br>
<a name="createSphereRepresentation"></a><b>createSphereRepresentation(atoms, radius, forceDefault, scale, bHighlight)</b> <a href="#Top"><span class="top">&nbsp;&nbsp;&nbsp;</span></a><br>
Create spheres for "atoms" with the "radius". "forceDefault" means to use the default radius. "scale" means scale on the radius. "bHighlight" is an option to draw the highlight for these atoms. The highlight could be outlines with bHighlight=1 and 3D objects with bHighlight=2 as mentioned <a href="#bHighlight">above</a>.<br>
<br>
<a name="createStickRepresentation"></a><b>createStickRepresentation(atoms, atomR, bondR, scale, bHighlight)</b> <a href="#Top"><span class="top">&nbsp;&nbsp;&nbsp;</span></a><br>
Create sticks for "atoms". "bondR" is the radius of the sticks. "atomR" is the radius of the spheres in the joints. "scale" means scale on the radius. "bHighlight" is an option to draw the highlight for these atoms. The highlight could be outlines with bHighlight=1 and 3D objects with bHighlight=2 as mentioned <a href="#bHighlight">above</a>.<br>
<br>
<a name="createStrand"></a><b>createStrand(atoms, num, div, fill, coilWidth, helixSheetWidth, doNotSmoothen, thickness, bHighlight)</b> <a href="#Top"><span class="top">&nbsp;&nbsp;&nbsp;</span></a><br>
Create the style of ribbon or strand for "atoms". "num" means how many lines define the curve. "num" is 2 for ribbon and 6 for strand. "div" means how many pnts are used to smooth the curve. It's typically 5. "coilWidth" is the width of curve for coil. "helixSheetWidth" is the width of curve for helix or sheet. "doNotSmoothen" is a flag to smooth the curve or not. "thickness" is the thickness of the curve. "bHighlight" is an option to draw the highlight for these atoms. The highlight could be outlines with bHighlight=1 and 3D objects with bHighlight=2 as mentioned <a href="#bHighlight">above</a>.<br>
<br>
<a name="createSurfaceRepresentation"></a><b>createSurfaceRepresentation(atoms, type, wireframe, opacity)</b> <a href="#Top"><span class="top">&nbsp;&nbsp;&nbsp;</span></a><br>
Create surface for "atoms". "type" can be 1 (Van der Waals surface), 2 (molecular surface), and 3 (solvent accessible surface). "wireframe" is a boolean to determine whether to show the surface as a mesh. "opacity" is a value between 0 and 1. "1" means not transparent at all. "0" means 100% transparent.<br>
<br>
<a name="createTube"></a><b>createTube(atoms, atomName, radius, bHighlight)</b> <a href="#Top"><span class="top">&nbsp;&nbsp;&nbsp;</span></a><br>
Create tubes for "atoms" with certain "atomName". "radius" is the radius of the tubes. "bHighlight" is an option to draw the highlight for these atoms. The highlight could be outlines with bHighlight=1 and 3D objects with bHighlight=2 as mentioned <a href="#bHighlight">above</a>.<br>
<br>
<a name="draw"></a><b>draw()</b> <a href="#Top"><span class="top">&nbsp;&nbsp;&nbsp;</span></a><br>
Draw the 3D structure. It rebuilds scene, applies previous color, applies the transformation, and renders the image.
<br>
<a name="drawCartoonNucleicAcid"></a><b>drawCartoonNucleicAcid(atoms, div, thickness, bHighlight)</b> <a href="#Top"><span class="top">&nbsp;&nbsp;&nbsp;</span></a><br>
Create curves for nucleotide "atoms". "div" means how many pnts are used to smooth the curve. It's typically 5. "thickness" is the thickness of the curve. "bHighlight" is an option to draw the highlight for these atoms. The highlight could be outlines with bHighlight=1 and 3D objects with bHighlight=2 as mentioned <a href="#bHighlight">above</a>.<br>
<br>
<a name="drawNucleicAcidStick"></a><b>drawNucleicAcidStick(atoms, bHighlight)</b> <a href="#Top"><span class="top">&nbsp;&nbsp;&nbsp;</span></a><br>
Create sticks between two nucleotide curves for nucleotide "atoms". "bHighlight" is an option to draw the highlight for these atoms. The highlight could be outlines with bHighlight=1 and 3D objects with bHighlight=2 as mentioned <a href="#bHighlight">above</a>.<br>
<br>
<a name="drawSymmetryMates2"></a><b>drawSymmetryMates2()</b> <a href="#Top"><span class="top">&nbsp;&nbsp;&nbsp;</span></a><br>
Draw the biological unit assembly using the matrix.<br>
<br>
<a name="exportCanvas"></a><b>exportCanvas()</b> <a href="#Top"><span class="top">&nbsp;&nbsp;&nbsp;</span></a><br>
Export the current view as a PNG file.<br>
<br>
<a name="getAtomsWithinAtom"></a><b>getAtomsWithinAtom(allAtoms, targetAtoms, distance)</b> <a href="#Top"><span class="top">&nbsp;&nbsp;&nbsp;</span></a><br>
This function returns atoms within a certain "distance" (in angstrom) from the "targetAtoms". The returned atoms are stored in a hash with atom indices  as keys and 1 as values. Only those atoms in "allAtoms" are considered.<br>
<br>
<a name="getChainsFromAtoms"></a><b>getChainsFromAtoms(atomHash)</b> <a href="#Top"><span class="top">&nbsp;&nbsp;&nbsp;</span></a><br>
Return the chain hash from the atom hash. The chain hash has the chainid as the key and 1 as the value.<br>
<br>
<a name="getExtent"></a><b>getExtent(atomlist)</b> <a href="#Top"><span class="top">&nbsp;&nbsp;&nbsp;</span></a><br>
For a list of atoms, return an array containing three coordinates: minimum x- y- z- values, maximum x- y- z- values, and average x- y- z- values.<br>
<br>
<a name="getFirstAtomObj"></a><b>getFirstAtomObj(atomsHash)</b> <a href="#Top"><span class="top">&nbsp;&nbsp;&nbsp;</span></a><br>
Return the first atom in the atom hash, which has the atom serial number as the key.<br>
<br>
<a name="getLastAtomObj"></a><b>getLastAtomObj(atomsHash)</b> <a href="#Top"><span class="top">&nbsp;&nbsp;&nbsp;</span></a><br>
Return the last atom in the atom hash, which has the atom serial number as the key.<br>
<br>
<a name="getResiduesFromAtoms"></a><b>getResiduesFromAtoms(atomHash)</b> <a href="#Top"><span class="top">&nbsp;&nbsp;&nbsp;</span></a><br>
Return the residue hash from the atom hash. The residue hash has the chainid as the key and 1 as the value.<br>
<br>
<a name="hasCovalentBond"></a><b>hasCovalentBond(atom1, atom2)</b> <a href="#Top"><span class="top">&nbsp;&nbsp;&nbsp;</span></a><br>
Determine whether atom1 and atom2 have covalent bond.<br>
<br>
<a name="hideHbonds"></a><b>hideHbonds()</b> <a href="#Top"><span class="top">&nbsp;&nbsp;&nbsp;</span></a><br>
Remove hydrogen bonds.<br>
<br>
<a name="init"></a><b>init()</b> <a href="#Top"><span class="top">&nbsp;&nbsp;&nbsp;</span></a><br>
When users first load a structure, call this function to empty previous settings.<br>
<br>
<a name="loadPDB"></a><b>loadPDB(pdbData)</b> <a href="#Top"><span class="top">&nbsp;&nbsp;&nbsp;</span></a><br>
This PDB parser feeds the viewer with the content of a PDB file, pdbData.<br>
<br>
<a name="rebuildScene"></a><b>rebuildScene(options)</b> <a href="#Top"><span class="top">&nbsp;&nbsp;&nbsp;</span></a><br>
This core function sets up the scene and display the structure according to the input options (shown <a href="#DisplayOptions">above</a>), which is a hash containing values for different keys. <br>

<br>
<a name="reinitAfterLoad"></a><b>reinitAfterLoad()</b> <a href="#Top"><span class="top">&nbsp;&nbsp;&nbsp;</span></a><br>
Reset parameters for displaying the loaded structure.<br>
<br>
<a name="removeHlObjects"></a><b>removeHlObjects()</b> <a href="#Top"><span class="top">&nbsp;&nbsp;&nbsp;</span></a><br>
Remove the highlight. The atom selection does not change.<br>
<br>
<a name="removeSurfaces"></a><b>removeSurfaces()</b> <a href="#Top"><span class="top">&nbsp;&nbsp;&nbsp;</span></a><br>
Remove previously drawn surfaces.<br>
<br>
<a name="render"></a><b>render()</b> <a href="#Top"><span class="top">&nbsp;&nbsp;&nbsp;</span></a><br>
Render the scene and objects into pixels.<br>
<br>
<a name="resetOrientation"></a><b>resetOrientation()</b> <a href="#Top"><span class="top">&nbsp;&nbsp;&nbsp;</span></a><br>
Set the orientation to the original one, but leave the style, color, etc alone.<br>
<br>

<a name="residueName2Abbr"></a><b>residueName2Abbr(residueName)</b> <a href="#Top"><span class="top">&nbsp;&nbsp;&nbsp;</span></a><br>
Convert a three-letter residue name to a one-letter residue abbreviation, e.g., 'LYS' to 'K', or '  A' to 'A' for nucleotides.<br>
<br>

<a name="rotateDown"></a><b>rotateDown(degree)</b> <a href="#Top"><span class="top">&nbsp;&nbsp;&nbsp;</span></a><br>
Rotate the structure certain degree to the bottom, e.g., 5 degree. <br>
<br>
<a name="rotateLeft"></a><b>rotateLeft(degree)</b> <a href="#Top"><span class="top">&nbsp;&nbsp;&nbsp;</span></a><br>
Rotate the structure certain degree to the left, e.g., 5 degree. <br>
<br>
<a name="rotateRight"></a><b>rotateRight(degree)</b> <a href="#Top"><span class="top">&nbsp;&nbsp;&nbsp;</span></a><br>
Rotate the structure certain degree to the right, e.g., 5 degree. <br>
<br>

<a name="rotateUp"></a><b>rotateUp(degree)</b> <a href="#Top"><span class="top">&nbsp;&nbsp;&nbsp;</span></a><br>
Rotate the structure certain degree to the top, e.g., 5 degree. <br>
<br>

<a name="saveFile"></a><b>saveFile(filename, type)</b> <a href="#Top"><span class="top">&nbsp;&nbsp;&nbsp;</span></a><br>
Save the state file or the image file with "filename". "type" is either "text" for state file or "png" for image file.<br>
<br>

<a name="selectStrandHelixFromAtom"></a><b>selectStrandHelixFromAtom(atom)</b> <a href="#Top"><span class="top">&nbsp;&nbsp;&nbsp;</span></a><br>
For an "atom", select all atoms in the same strand, helix, or coil.<br>
<br>

<a name="setAtomStyleByOptions"></a><b>setAtomStyleByOptions(options)</b> <a href="#Top"><span class="top">&nbsp;&nbsp;&nbsp;</span></a><br>
Set atom style according to the definition in options (options.secondaryStructure, etc).<br>
<br>

<a name="setCamera"></a><b>setCamera()</b> <a href="#Top"><span class="top">&nbsp;&nbsp;&nbsp;</span></a><br>
Set the camera according to the size of the structure.<br>
<br>

<a name="setColorByOptions"></a><b>setColorByOptions(options, atoms)</b> <a href="#Top"><span class="top">&nbsp;&nbsp;&nbsp;</span></a><br>
Set atom color according to the definition in options (options.color).<br>
<br>

<a name="setOutlineColor"></a><b>setOutlineColor(colorStr)</b> <a href="#Top"><span class="top">&nbsp;&nbsp;&nbsp;</span></a><br>
Set the outline color when highlighting atoms. The available options are "yellow", "green", and "red". <br>
<br>

<a name="setRotationCenter"></a><b>setRotationCenter(coord)</b> <a href="#Top"><span class="top">&nbsp;&nbsp;&nbsp;</span></a><br>
Set the center at the position with coordinated "coord". <br>
<br>

<a name="setStyle2Atoms"></a><b>setStyle2Atoms(atomlist)</b> <a href="#Top"><span class="top">&nbsp;&nbsp;&nbsp;</span></a><br>
For a list of atoms, set the hash with style as key and atom serial as value. <br>
<br>

<a name="setWidthHeight"></a><b>setWidthHeight(width, height)</b> <a href="#Top"><span class="top">&nbsp;&nbsp;&nbsp;</span></a><br>
Set the width and height of the canvas. <br>
<br>



<a name="showPicking"></a><b>showPicking(atom)</b> <a href="#Top"><span class="top">&nbsp;&nbsp;&nbsp;</span></a><br>
Define actions when an atom is picked. By default, the atom information ($[structure id].[chain id]:[residue number]@[atom name]) is displayed.<br>
<br>

<a name="translateDown"></a><b>translateDown(percentScreenSize)</b> <a href="#Top"><span class="top">&nbsp;&nbsp;&nbsp;</span></a><br>
Translate the structure certain distance to the bottom, e.g., "percentScreenSize" 1 means 1% of the screen height. <br>
<br>
<a name="translateLeft"></a><b>translateLeft(percentScreenSize)</b> <a href="#Top"><span class="top">&nbsp;&nbsp;&nbsp;</span></a><br>
Translate the structure certain distance to the left, e.g., "percentScreenSize" 1 means 1% of the screen width. <br>
<br>
<a name="translateRight"></a><b>translateRight(percentScreenSize)</b> <a href="#Top"><span class="top">&nbsp;&nbsp;&nbsp;</span></a><br>
Translate the structure certain distance to the right, e.g., "percentScreenSize" 1 means 1% of the screen width. <br>
<br>
<a name="translateUp"></a><b>translateUp(percentScreenSize)</b> <a href="#Top"><span class="top">&nbsp;&nbsp;&nbsp;</span></a><br>
Translate the structure certain distance to the top, e.g., "percentScreenSize" 1 means 1% of the screen height. <br>
<br>

<a name="zoomIn"></a><b>zoomIn(normalizedFactor)</b> <a href="#Top"><span class="top">&nbsp;&nbsp;&nbsp;</span></a><br>
Zoom in the structure at certain ratio, e.g., 0.1 is a reasonable value. <br>
<br>
<a name="zoominSelection"></a><b>zoominSelection()</b> <a href="#Top"><span class="top">&nbsp;&nbsp;&nbsp;</span></a><br>
Center on the selected atoms and zoom in.<br>
<br>
<a name="zoomOut"></a><b>zoomOut(normalizedFactor)</b> <a href="#Top"><span class="top">&nbsp;&nbsp;&nbsp;</span></a><br>
Zoom out the structure at certain ratio, e.g., 0.1 is a reasonable value. <br>
<br>

<span style="font-weight:bold; font-size:1em;">Hash Operations</span> <a href="#Top"><span class="top">&nbsp;&nbsp;&nbsp;</span></a><br>
<br>
<a name="cloneHash"></a><b>cloneHash(fromHash)</b> <a href="#Top"><span class="top">&nbsp;&nbsp;&nbsp;</span></a><br>
Clone the "fromHash" and return the cloned hash.<br>
<br>
<a name="exclHash"></a><b>exclHash(includeAtoms, excludeAtoms)</b> <a href="#Top"><span class="top">&nbsp;&nbsp;&nbsp;</span></a><br>
Get atoms in "includeAtoms", but not in "excludeAtoms". The returned hash has atom index as key and 1 as value.<br>
<br>
<a name="exclHash2Atoms"></a><b>exclHash2Atoms(includeAtoms, excludeAtoms)</b> <a href="#Top"><span class="top">&nbsp;&nbsp;&nbsp;</span></a><br>
Get atoms in "includeAtoms", but not in "excludeAtoms". The returned hash has atom index as key and atom object as value.<br>
<br>
<a name="hash2Atoms"></a><b>hash2Atoms(hash)</b> <a href="#Top"><span class="top">&nbsp;&nbsp;&nbsp;</span></a><br>
The input "hash" has atom index as key and 1 as value. The returned hash has atom index as key and atom object as value.<br>
<br>
<a name="intHash"></a><b>intHash(atoms1, atoms2)</b> <a href="#Top"><span class="top">&nbsp;&nbsp;&nbsp;</span></a><br>
Get the intersection of two hashes "atoms1" and "atoms2". The returned hash has atom index as key and 1 as value.<br>
<br>
<a name="intHash2Atoms"></a><b>intHash2Atoms(atoms1, atoms2)</b> <a href="#Top"><span class="top">&nbsp;&nbsp;&nbsp;</span></a><br>
Get the intersection of two hashes "atoms1" and "atoms2". The returned hash has atom index as key and atom object as value.<br>
<br>
<a name="unionHash"></a><b>unionHash(atoms1, atoms2)</b> <a href="#Top"><span class="top">&nbsp;&nbsp;&nbsp;</span></a><br>
Get the union of two hashes "atoms1" and "atoms2". The returned hash has atom index as key and 1 as value.<br>
<br>
<a name="unionHash2Atoms"></a><b>unionHash2Atoms(atoms1, atoms2)</b> <a href="#Top"><span class="top">&nbsp;&nbsp;&nbsp;</span></a><br>
Get the union of two hashes "atoms1" and "atoms2". The returned hash has atom index as key and atom object as value.<br>
<br>

    <a name="UIMethods"></a>
    <h2>Method Documents of the advanced UI library iCn3DUI<img src="https://www.ncbi.nlm.nih.gov/Structure/IMG/spacer.gif" width="25" height="1" border="0"><a href="#Top"><img src="https://www.ncbi.nlm.nih.gov/Structure/IMG/arrowup_blue.gif" width="12" height="12" border="0" alt="back to top"></a></h2>

<h3>Options <a href="#Top"><span class="top">&nbsp;&nbsp;&nbsp;</span></a></h3>
<br>
<a name="b2DShown"></a><b>b2DShown</b> <a href="#Top"><span class="top">&nbsp;&nbsp;&nbsp;</span></a><br>
A flag to remember whether the 2D interaction diagram was set.<br>
<br>
<a name="bAddCommands"></a><b>bAddCommands</b> <a href="#Top"><span class="top">&nbsp;&nbsp;&nbsp;</span></a><br>
A flag to determine whether to add current step into the command history.<br>
<br>
<a name="bAddLogs"></a><b>bAddLogs</b> <a href="#Top"><span class="top">&nbsp;&nbsp;&nbsp;</span></a><br>
A flag to determine whether to add current step into the log window.<br>
<br>
<a name="bAnnoShown"></a><b>bAnnoShown</b> <a href="#Top"><span class="top">&nbsp;&nbsp;&nbsp;</span></a><br>
A flag to remember whether the annotation window was set.<br>
<br>
<a name="bSetChainsAdvancedMenu"></a><b>bSetChainsAdvancedMenu</b> <a href="#Top"><span class="top">&nbsp;&nbsp;&nbsp;</span></a><br>
A flag to remember whether the menu of defined sets was set.<br>
<br>
<a name="bNotLoadStructure"></a><b>bNotLoadStructure</b> <a href="#Top"><span class="top">&nbsp;&nbsp;&nbsp;</span></a><br>
A flag to determine whether to load the coordinates of the structure. When resetting the view, it is true so that the coordinates of the structure will not be loaded again.<br>
<br>
<a name="cfg"></a><b>cfg</b> <a href="#Top"><span class="top">&nbsp;&nbsp;&nbsp;</span></a><br>
A hash containing all input parameters.<br>
<br>
<a name="LESSHEIGHT"></a><b>LESSHEIGHT</b> <a href="#Top"><span class="top">&nbsp;&nbsp;&nbsp;</span></a><br>
The height (in px) that was left empty by the 3D viewer. The default is 20px.<br>
<br>
<a name="LESSWIDTH"></a><b>LESSWIDTH</b> <a href="#Top"><span class="top">&nbsp;&nbsp;&nbsp;</span></a><br>
The width (in px) that was left empty by the 3D viewer. The default is 20px.<br>
<br>
<a name="options"></a><b>opts</b> <a href="#Top"><span class="top">&nbsp;&nbsp;&nbsp;</span></a><br>
The default display options as shown <a href="#DisplayOptions">above</a>.<br>
<br>
<a name="pre"></a><b>pre</b> <a href="#Top"><span class="top">&nbsp;&nbsp;&nbsp;</span></a><br>
A prefix for all custom html element id. It ensures all html elements have specific ids, even when multiple iCn3D viewers are shown together.<br>
<br>

<h3>Methods <a href="#Top"><span class="top">&nbsp;&nbsp;&nbsp;</span></a></h3>
<br>

<a name="addChainLabels"></a><b>addChainLabels(atomHash)</b> <a href="#Top"><span class="top">&nbsp;&nbsp;&nbsp;</span></a><br>
Display chain name in the 3D structure display for the chains intersecting with the atoms in "atomHash".

<br><br><a name="addCustomSelection"></a><b>addCustomSelection(residueAtomArray, commandname, commanddesc, command, bResidue)</b> <a href="#Top"><span class="top">&nbsp;&nbsp;&nbsp;</span></a><br>
Define a custom selection based on the array of residues or atoms. The custom selection is defined by the "command" with the name "commandname" and the description "commanddesc". If "bResidue" is true, the custom selection is based on residues. Otherwise, the custom selection is based on atoms.

<br><br><a name="addLabel"></a><b>addLabel(text, x, y, z, size, color, background)</b> <a href="#Top"><span class="top">&nbsp;&nbsp;&nbsp;</span></a><br>
Add a "text" at the position (x, y, z) with the input "size", "color", and "background".

<br><br><a name="addLine"></a><b>addLine(x1, y1, z1, x2, y2, z2, color, dashed)</b> <a href="#Top"><span class="top">&nbsp;&nbsp;&nbsp;</span></a><br>
Add a line between the position (x1, y1, z1) and the position (x2, y2, z2) with the input "color". The line can be dashed if "dashed" is set true.

<br><br><a name="addStabilizer"></a><b>addStabilizer()</b> <a href="#Top"><span class="top">&nbsp;&nbsp;&nbsp;</span></a><br>
Add stabilizers in the model for 3D printing. This is especially important for the cartoon display such as ribbons.

<br><br><a name="allCustomEvents"></a><b>allCustomEvents()</b> <a href="#Top"><span class="top">&nbsp;&nbsp;&nbsp;</span></a><br>
You can add your custom events in this function if you want to add new links in the function setTools.

<br><br><a name="allEventFunctions"></a><b>allEventFunctions()</b> <a href="#Top"><span class="top">&nbsp;&nbsp;&nbsp;</span></a><br>
Hold all functions related to click events.

<br><br><a name="alternateStructures"></a><b>alternateStructures()</b> <a href="#Top"><span class="top">&nbsp;&nbsp;&nbsp;</span></a><br>
Show structures one by one.

<br><br><a name="applyCommand"></a><b>applyCommand(command)</b> <a href="#Top"><span class="top">&nbsp;&nbsp;&nbsp;</span></a><br>
Execute a command. If the command is to load a structure, use the Method "applyCommandLoad".

<br><br><a name="applyCommandAnnotationsAndCddSite"></a><b>applyCommandAnnotationsAndCddSite()</b> <a href="#Top"><span class="top">&nbsp;&nbsp;&nbsp;</span></a><br>
The annotation window calls many Ajax calls. Thus the command "view interactions" (in Share Link or loading state file) is handled specially to wait for the Ajax calls to finish before executing the next command.

<br><br><a name="applyCommandLoad"></a><b>applyCommandLoad(command)</b> <a href="#Top"><span class="top">&nbsp;&nbsp;&nbsp;</span></a><br>
Execute the command to load a structure. This step is different from the rest steps since it has to finish before the rest steps start.

<br><br><a name="back"></a><b>back()</b> <a href="#Top"><span class="top">&nbsp;&nbsp;&nbsp;</span></a><br>
Go back one step. Basically the commands are sequentially executed, but with one less step.


<br><br><a name="changeCustomAtoms"></a><b>changeCustomAtoms(nameArray)</b> <a href="#Top"><span class="top">&nbsp;&nbsp;&nbsp;</span></a><br>
HighlightAtoms are set up based on the selected custom names "nameArray" in the atom menu. The corresponding atoms are neither highlighted in the sequence dialog nor in the 3D structure since not all residue atom are selected.

<br><br><a name="changeSeqColor"></a><b>changeSeqColor(residueArray)</b> <a href="#Top"><span class="top">&nbsp;&nbsp;&nbsp;</span></a><br>
Change the residue color in the annotation window for the residues in the array "residueArray".

<br><br><a name="clearSelection"></a><b>clearSelection()</b> <a href="#Top"><span class="top">&nbsp;&nbsp;&nbsp;</span></a><br>
Clear the "Structure", "Chain", and "Custom" dropdown menu.

<br><br><a name="downloadAlignment"></a><b>downloadAlignment(align)</b> <a href="#Top"><span class="top">&nbsp;&nbsp;&nbsp;</span></a><br>
Load the VAST+ structure alignment for the pair of structures "align", e.g., "align" could be "1HHO,4N7N".

<br><br><a name="downloadCid"></a><b>downloadCid(cid)</b> <a href="#Top"><span class="top">&nbsp;&nbsp;&nbsp;</span></a><br>
Ajax call was used to get the atom data from the PubChem "cid". This function was deferred so that it can be chained together with other deferred functions for sequential execution.

<br><br><a name="downloadGi"></a><b>downloadGi(gi)</b> <a href="#Top"><span class="top">&nbsp;&nbsp;&nbsp;</span></a><br>
Ajax call was used to get the atom data from the NCBI "gi". This function was deferred so that it can be chained together with other deferred functions for sequential execution. Note that only one structure corresponding to the gi will be shown. If there is no structures available for the gi, a warning message will be shown.

<br><br><a name="downloadMmcif"></a><b>downloadMmcif(mmcifid)</b> <a href="#Top"><span class="top">&nbsp;&nbsp;&nbsp;</span></a><br>
Ajax call was used to get the atom data from the "mmcifid". This function was deferred so that it can be chained together with other deferred functions for sequential execution.


<br><br><a name="downloadMmdb"></a><b>downloadMmdb(mmdbid)</b> <a href="#Top"><span class="top">&nbsp;&nbsp;&nbsp;</span></a><br>
Ajax call was used to get the atom data from the NCBI "mmdbid". This function was deferred so that it can be chained together with other deferred functions for sequential execution. If the structure is too large, a 3D dgm will show up. You can select your interested chains to see the details.<br>

<br>Atom "data" from MMDB file was parsed to set up <a href="#DataInputs">parameters for the 3D viewer</a> by calling the function loadAtomDataIn. The deferred parameter was resolved after the parsing so that other javascript code can be executed.

<br><br><a name="downloadMmtf"></a><b>downloadMmtf(mmtfid)</b> <a href="#Top"><span class="top">&nbsp;&nbsp;&nbsp;</span></a><br>
MMTF is a new binary data format besides the previous PDB and mmCIF formats for 3D structures. The JavaScript Methods at <a href="http://mmtf.rcsb.org/">http://mmtf.rcsb.org/</a> was used to load and parse the data.

<br><br><a name="downloadPdb"></a><b>downloadPdb(pdbid)</b> <a href="#Top"><span class="top">&nbsp;&nbsp;&nbsp;</span></a><br>
Ajax call was used to get the atom data from the "pdbid". This function was deferred so that it can be chained together with other deferred functions for sequential execution. A wrapper was added to support both http and https.

<br><br><a name="downloadUrl"></a><b>downloadUrl(URL, type)</b> <a href="#Top"><span class="top">&nbsp;&nbsp;&nbsp;</span></a><br>
Load structures from a "URL". Due to the same domain policy of Ajax call, the URL should be in the same domain. "type" could be "pdb", "mol2", "sdf", or "xyz" for pdb file, mol2file, sdf file, and xyz file, respectively.

<br><br><a name="execCommands"></a><b>execCommands(steps)</b> <a href="#Top"><span class="top">&nbsp;&nbsp;&nbsp;</span></a><br>
Execute a list of commands. "steps" is the total number of commands.

<br><br><a name="exportInteractions"></a><b>exportInteractions()</b> <a href="#Top"><span class="top">&nbsp;&nbsp;&nbsp;</span></a><br>
Export the list of residues in some chain interacting with residues in another chain.

<br><br><a name="forward"></a><b>forward()</b> <a href="#Top"><span class="top">&nbsp;&nbsp;&nbsp;</span></a><br>
Go forward one step. Basically the commands are sequentially executed, but with one more step.

<br><br><a name="getAlignSequencesAnnotations"></a><b>getAlignSequencesAnnotations(alignChainArray, bUpdateHighlightAtoms, residueArray, bShowHighlight)</b> <a href="#Top"><span class="top">&nbsp;&nbsp;&nbsp;</span></a><br>
Set up the sequence display with the aligned sequences. Either chains in "alignChainArray" or residues in "residueArray" will be highlighted. "bUpdateHighlightAtoms" is a flag to update the highlight atoms or not. "bShowHighlight" is a flag to show highlight or not.

<br><br><a name="getCommandsBeforeCrash"></a><b>getCommandsBeforeCrash()</b> <a href="#Top"><span class="top">&nbsp;&nbsp;&nbsp;</span></a><br>
Set the commands before the browser crashed. These commands are used to restore your previous state by refreshing the crashed page. It works in Chrome, Firefox, and Internet Explorer in PC, but neither Safari nor Mac.

<br><br><a name="hideMenu"></a><b>hideMenu(width, height)</b> <a href="#Top"><span class="top">&nbsp;&nbsp;&nbsp;</span></a><br>
Hide the menu at the top and just show the canvas. "width" and "height" are the width and height of the canvas.

<br><br><a name="hideStabilizer"></a><b>hideStabilizer()</b> <a href="#Top"><span class="top">&nbsp;&nbsp;&nbsp;</span></a><br>
Remove all the added stabilizers.

<br><br><a name="initUI"></a><b>init()</b> <a href="#Top"><span class="top">&nbsp;&nbsp;&nbsp;</span></a><br>
When users load a state file, call this function to close all dialogs and reset the flags of these dialogs.<br>

<br><br><a name="hideStabilizer"></a><b>hideStabilizer()</b> <a href="#Top"><span class="top">&nbsp;&nbsp;&nbsp;</span></a><br>
Remove stabilizers in the model.

<br><br><a name="isIE"></a><b>isIE()</b> <a href="#Top"><span class="top">&nbsp;&nbsp;&nbsp;</span></a><br>
Determine whether the current browser is Internet Explorer.

<br><br><a name="isMac"></a><b>isMac()</b> <a href="#Top"><span class="top">&nbsp;&nbsp;&nbsp;</span></a><br>
Determine whether it is a Mac.

<br><br><a name="isMobile"></a><b>isMobile()</b> <a href="#Top"><span class="top">&nbsp;&nbsp;&nbsp;</span></a><br>
Determine whether it is a mobile device.

<br><br><a name="isSessionStorageSupported"></a><b>isSessionStorageSupported()</b> <a href="#Top"><span class="top">&nbsp;&nbsp;&nbsp;</span></a><br>
Determine whether Session Storage is supported in your browser. Session Storage is not supported in Safari.

<br><br><a name="loadAtomDataIn"></a><b>loadAtomDataIn(data, id, type)</b> <a href="#Top"><span class="top">&nbsp;&nbsp;&nbsp;</span></a><br>
This function was used to parse atom "data" to set up <a href="#DataInputs">parameters for the 3D viewer</a>. "type" is mmcifid or mmdbid. "id" is the MMDB ID or mmCIF ID.

<br><br><a name="loadSdfAtomData"></a><b>loadSdfAtomData(data)</b> <a href="#Top"><span class="top">&nbsp;&nbsp;&nbsp;</span></a><br>
Atom "data" from SDF file was parsed to set up <a href="#DataInputs">parameters for the 3D viewer</a>. The deferred parameter was resolved after the parsing so that other javascript code can be executed.

<br><br><a name="loadMmcifData"></a><b>loadMmcifData(data)</b> <a href="#Top"><span class="top">&nbsp;&nbsp;&nbsp;</span></a><br>
Atom "data" from mmCIF file was parsed to set up <a href="#DataInputs">parameters for the 3D viewer</a> by calling the function loadAtomDataIn. The deferred parameter was resolved after the parsing so that other javascript code can be executed.

<br><br><a name="loadPdbData"></a><b>loadPdbData(data)</b> <a href="#Top"><span class="top">&nbsp;&nbsp;&nbsp;</span></a><br>
Atom "data" from PDB file was parsed to set up <a href="#DataInputs">parameters for the 3D viewer</a>. The deferred parameter was resolved after the parsing so that other javascript code can be executed.

<br><br><a name="loadScript"></a><b>loadScript(commands)</b> <a href="#Top"><span class="top">&nbsp;&nbsp;&nbsp;</span></a><br>
Run commands one after another. The commands can be semicolon ';' or new line '\n' separated.

<br><br><a name="modifyIcn3d"></a><b>modifyIcn3d()</b> <a href="#Top"><span class="top">&nbsp;&nbsp;&nbsp;</span></a><br>
Hold all modification to the core iCn3D library.

<br><br><a name="modifyIcn3dshowPicking"></a><b>modifyIcn3dshowPicking()</b> <a href="#Top"><span class="top">&nbsp;&nbsp;&nbsp;</span></a><br>
Modify the function "showPicking" in the core iCn3D library.

<br><br><a name="openDialog"></a><b>openDialog(id, title)</b> <a href="#Top"><span class="top">&nbsp;&nbsp;&nbsp;</span></a><br>
Open a dialog to input parameters. "id" is the id of the div section holding the html content. "title" is the title of the dialog. The dialog can be out of the viewing area.

<br><br><a name="outputSelection"></a><b>outputSelection()</b> <a href="#Top"><span class="top">&nbsp;&nbsp;&nbsp;</span></a><br>
Output the selected residues in the residue dialog.

<br><br><a name="pickCustomSphere"></a><b>pickCustomSphere(distance)</b> <a href="#Top"><span class="top">&nbsp;&nbsp;&nbsp;</span></a><br>
Select a sphere around the highlight atoms with a predefined distance.

<br><br><a name="prepareFor3Dprint"></a><b>prepareFor3Dprint()</b> <a href="#Top"><span class="top">&nbsp;&nbsp;&nbsp;</span></a><br>
Prepare for 3D printing by changing dashed lines to solid lines, changing the thickness of the model.

<br><br><a name="removeHl2D"></a><b>removeHl2D()</b> <a href="#Top"><span class="top">&nbsp;&nbsp;&nbsp;</span></a><br>
Remove the highlight in the 2D interaction diagram.

<br><br><a name="removeHlAll"></a><b>removeHlAll()</b> <a href="#Top"><span class="top">&nbsp;&nbsp;&nbsp;</span></a><br>
Remove the highlight in 3D structure, 2D interaction, 1D sequence, and the menu of defined sets.

<br><br><a name="removeHlMenus"></a><b>removeHlMenus()</b> <a href="#Top"><span class="top">&nbsp;&nbsp;&nbsp;</span></a><br>
Remove the selection in the menu of defined sets.

<br><br><a name="removeHlObjects"></a><b>removeHlObjects()</b> <a href="#Top"><span class="top">&nbsp;&nbsp;&nbsp;</span></a><br>
Remove the highlight in the 3D structure display.

<br><br><a name="removeHlSeq"></a><b>removeHlSeq()</b> <a href="#Top"><span class="top">&nbsp;&nbsp;&nbsp;</span></a><br>
Remove the highlight in the sequence display of the annotation window.

<br><br><a name="removeSeqChainBkgd"></a><b>removeSeqChainBkgd()</b> <a href="#Top"><span class="top">&nbsp;&nbsp;&nbsp;</span></a><br>
Remove the background of the highlighted chain in the sequence dialog.

<br><br><a name="removeSeqResidueBkgd"></a><b>removeSeqResidueBkgd()</b> <a href="#Top"><span class="top">&nbsp;&nbsp;&nbsp;</span></a><br>
Remove the background of the highlighted residues in the sequence dialog.

<br><br><a name="renderFinalStep"></a><b>renderFinalStep(steps)</b> <a href="#Top"><span class="top">&nbsp;&nbsp;&nbsp;</span></a><br>
When reading a list of commands, apply transformation at the last step.

<br><br><a name="renderStructure"></a><b>renderStructure()</b> <a href="#Top"><span class="top">&nbsp;&nbsp;&nbsp;</span></a><br>
Update the dropdown menu and show the structure by calling the function "draw()".

<br><br><a name="resetAfter3Dprint"></a><b>resetAfter3Dprint()</b> <a href="#Top"><span class="top">&nbsp;&nbsp;&nbsp;</span></a><br>
Reset the hydrogen bonds, distance lines to dashed lines. Reset the thickness to the default values.

<br><br><a name="resizeCanvas"></a><b>resizeCanvas(width, height)</b> <a href="#Top"><span class="top">&nbsp;&nbsp;&nbsp;</span></a><br>
Resize the canvas with the defined "width" and "height".

<br><br><a name="rotStruc"></a><b>rotStruc(direction)</b> <a href="#Top"><span class="top">&nbsp;&nbsp;&nbsp;</span></a><br>
Rotate the structure in one of the directions: "left", "right", "up", and "down".


<br><br><a name="saveCommandsToSession"></a><b>saveCommandsToSession()</b> <a href="#Top"><span class="top">&nbsp;&nbsp;&nbsp;</span></a><br>
Save the command history to session storage so that the viewer can show the previous state when refreshing the same page.

<br><br><a name="saveFile"></a><b>saveFile(filename, type, data)</b> <a href="#Top"><span class="top">&nbsp;&nbsp;&nbsp;</span></a><br>
Five types are used: command, png, html, text, and binary. The type "command" is used to save the statefile. The type "png" is used to save the current canvas image. The type "html" is used to save html file with the "data". This can be used to save any text. The type "text" is used to save an array of text, where "data" is actually an array. The type "binary" is used to save an array of binary, where "data" is actually an array.

<br><br><a name="saveStlFile"></a><b>saveStlFile()</b> <a href="#Top"><span class="top">&nbsp;&nbsp;&nbsp;</span></a><br>
Save the binary STL file for 3D monocolor printing.

<br><br><a name="saveVrmlFile"></a><b>saveVrmlFile()</b> <a href="#Top"><span class="top">&nbsp;&nbsp;&nbsp;</span></a><br>
Save the VRML file for 3D color printing.

<br><br><a name="selectAAlignChain"></a><b>selectAAlignChain(alignChainid, commandname)</b> <a href="#Top"><span class="top">&nbsp;&nbsp;&nbsp;</span></a><br>
Select an aligned chain with the chain id "alignChainid" in the sequence dialog and save it as a custom selection with the name "commandname".

<br><br><a name="selectAChain"></a><b>selectAChain(chainid, commandname)</b> <a href="#Top"><span class="top">&nbsp;&nbsp;&nbsp;</span></a><br>
Select a chain with the chain id "chainid" in the sequence dialog and save it as a custom selection with the name "commandname".

<br><br><a name="selectAll"></a><b>selectAll()</b> <a href="#Top"><span class="top">&nbsp;&nbsp;&nbsp;</span></a><br>
Select all atom in the structures.

<br><br><a name="selectByCommand"></a><b>selectByCommand(command, commandname, commanddesc)</b> <a href="#Top"><span class="top">&nbsp;&nbsp;&nbsp;</span></a><br>
Set a custom selection with the "command", its name "commandname" and its description "commanddesc".

<br><br><a name="selectComplement"></a><b>selectComplement()</b> <a href="#Top"><span class="top">&nbsp;&nbsp;&nbsp;</span></a><br>
Select the complement of the current selection.

<br><br><a name="set2DDiagrams"></a><b>set2DDiagrams(mmdbid)</b> <a href="#Top"><span class="top">&nbsp;&nbsp;&nbsp;</span></a><br>
Generate the 2D interaction diagram for the structure "mmdbid", which could be PDB ID. The 2D interaction diagram is only available when the input is NCBI MMDB ID, i.e., the URL is something like "&mmdbid=...".

<br><br><a name="setAlignChainMenu"></a><b>setAlignChainMenu(bInitial)</b> <a href="#Top"><span class="top">&nbsp;&nbsp;&nbsp;</span></a><br>
Set the aligned chain menu. "bInitial" is a flag for the initial loading.

<br><br><a name="setAtomMenu"></a><b>setAtomMenu(commandnameArray)</b> <a href="#Top"><span class="top">&nbsp;&nbsp;&nbsp;</span></a><br>
Set the menu of defined sets with an array of defined names "commandnameArray".

<br><br><a name="setCustomDialogs"></a><b>setCustomDialogs()</b> <a href="#Top"><span class="top">&nbsp;&nbsp;&nbsp;</span></a><br>
A placeholder for all custom dialogs.

<br><br><a name="setDialogs"></a><b>setDialogs()</b> <a href="#Top"><span class="top">&nbsp;&nbsp;&nbsp;</span></a><br>
Set the html for all popup dialogs.

<br><br><a name="setLogCmd"></a><b>setLogCmd(command, bSetCommand)</b> <a href="#Top"><span class="top">&nbsp;&nbsp;&nbsp;</span></a><br>
Show the input command in log. If "bSetCommand" is true, the command will be saved in the state file as well.

<br><br><a name="setLogWindow"></a><b>setLogWindow()</b> <a href="#Top"><span class="top">&nbsp;&nbsp;&nbsp;</span></a><br>
Set the textarea for the log output.

<br><br><a name="setMenu1"></a><b>setMenu1()</b> <a href="#Top"><span class="top">&nbsp;&nbsp;&nbsp;</span></a><br>
Set the menu "File" at the top of the viewer.

<br><br><a name="setMenu2"></a><b>setMenu2()</b> <a href="#Top"><span class="top">&nbsp;&nbsp;&nbsp;</span></a><br>
Set the menu "Select" at the top of the viewer.

<br><br><a name="setMenu3"></a><b>setMenu3()</b> <a href="#Top"><span class="top">&nbsp;&nbsp;&nbsp;</span></a><br>
Set the menu "Style" at the top of the viewer.

<br><br><a name="setMenu4"></a><b>setMen4()</b> <a href="#Top"><span class="top">&nbsp;&nbsp;&nbsp;</span></a><br>
Set the menu "Color" at the top of the viewer.

<br><br><a name="setMenu5"></a><b>setMenu5()</b> <a href="#Top"><span class="top">&nbsp;&nbsp;&nbsp;</span></a><br>
Set the menu "Surface" at the top of the viewer.

<br><br><a name="setMenu6"></a><b>setMenu6()</b> <a href="#Top"><span class="top">&nbsp;&nbsp;&nbsp;</span></a><br>
Set the menu "Other" at the top of the viewer.


<br><br><a name="setOption"></a><b>setOption(id, value)</b> <a href="#Top"><span class="top">&nbsp;&nbsp;&nbsp;</span></a><br>
Modify the <a href="#DisplayOptions">display options</a>, e.g., setOption('color', 'green')

<br><br><a name="setStyle"></a><b>setStyle(selectionType, style)</b> <a href="#Top"><span class="top">&nbsp;&nbsp;&nbsp;</span></a><br>
Set the styles of predefined "protein", "nucleotides", etc.

<br><br><a name="setTools"></a><b>setTools()</b> <a href="#Top"><span class="top">&nbsp;&nbsp;&nbsp;</span></a><br>
Set the HTML code for the tools section. It includes several buttons, and is the second line at the top of the viewer.

<br><br><a name="setTopMenusHtml"></a><b>setTopMenus()</b> <a href="#Top"><span class="top">&nbsp;&nbsp;&nbsp;</span></a><br>
Set the HTML code for the menus shown at the top of the viewer.

<br><br><a name="shareLink"></a><b>shareLink()</b> <a href="#Top"><span class="top">&nbsp;&nbsp;&nbsp;</span></a><br>
Generate a URL to capture the current state and open it in a new window. Basically the state file (the comand history) is concatenated in the URL to show the current state.


<br><br><a name="show3DStructure"></a><b>show3DStructure()</b> <a href="#Top"><span class="top">&nbsp;&nbsp;&nbsp;</span></a><br>
The main function to show the 3D structure.

<br><br><a name="showAnnotations"></a><b>showAnnotations()</b> <a href="#Top"><span class="top">&nbsp;&nbsp;&nbsp;</span></a><br>
show annotations such as SNPs, ClinVar, domains, binding sites, etc.

<br><br><a name="showCddSite"></a><b>showCddSite(chainid, chainidBase)</b> <a href="#Top"><span class="top">&nbsp;&nbsp;&nbsp;</span></a><br>
Show the annotations of CDD domains and binding sites.

<br><br><a name="showDomain"></a><b>showDomain(chainid, chainidBase)</b> <a href="#Top"><span class="top">&nbsp;&nbsp;&nbsp;</span></a><br>
Show the annotations of 3D domains.

<br><br><a name="showHbonds"></a><b>showHbonds(threshold)</b> <a href="#Top"><span class="top">&nbsp;&nbsp;&nbsp;</span></a><br>
Show the hydrogen bonds between chemicals and proteins/nucleotides with dashed-lines."threshold" defines the distance of hydrogen bonds.

<br><br><a name="showInteraction"></a><b>showInteraction(chainid, chainidBase)</b> <a href="#Top"><span class="top">&nbsp;&nbsp;&nbsp;</span></a><br>
Show the residues interacting with the chain.

<br><br><a name="showMenu"></a><b>showMenu(width, height)</b> <a href="#Top"><span class="top">&nbsp;&nbsp;&nbsp;</span></a><br>
Show the menu at the top and the canvas. "width" and "height" are the width and height of the canvas.

<br><br><a name="showSelection"></a><b>showSelection()</b> <a href="#Top"><span class="top">&nbsp;&nbsp;&nbsp;</span></a><br>
Show the selection.

<br><br><a name="showSeq"></a><b>showSeq(chainid, chainidBase)</b> <a href="#Top"><span class="top">&nbsp;&nbsp;&nbsp;</span></a><br>
Show the sequences and secondary structures.

<br><br><a name="showSets"></a><b>showSets()</b> <a href="#Top"><span class="top">&nbsp;&nbsp;&nbsp;</span></a><br>
Display the menu of defined sets. All chains and defined custom sets are listed in the menu. All new custom sets will be displayed in the menu.

<br><br><a name="showSnpClinvar"></a><b>showSnpClinvar(chainid, chainidBase)</b> <a href="#Top"><span class="top">&nbsp;&nbsp;&nbsp;</span></a><br>
Show the annotations of SNPs and ClinVar.

<br><br><a name="showSsbonds"></a><b>showSsbonds()</b> <a href="#Top"><span class="top">&nbsp;&nbsp;&nbsp;</span></a><br>
Show the disulfide bonds and show the side chain in the style of "stick".

<br><br><a name="showTitle"></a><b>showTitle()</b> <a href="#Top"><span class="top">&nbsp;&nbsp;&nbsp;</span></a><br>
Show the title and PDB ID of the PDB structure at the beginning of the viewer.


<br><br><a name="toggleSelection"></a><b>toggleSelection()</b> <a href="#Top"><span class="top">&nbsp;&nbsp;&nbsp;</span></a><br>
Toggle on and off the current selection.

<br><br><a name="update2DdgmContent"></a><b>update2DdgmContent()</b> <a href="#Top"><span class="top">&nbsp;&nbsp;&nbsp;</span></a><br>
The 2D diagram only shows the currently displayed chains when users click the option "View Only Selection". This method is called to dynamically update the content of the 2D interaction diagram.

<br><br><a name="updateHl2D"></a><b>updateHl2D()</b> <a href="#Top"><span class="top">&nbsp;&nbsp;&nbsp;</span></a><br>
Update the highlight of 2D interaction diagram according to the current highlighted atoms.

<br><br><a name="updateHlAll"></a><b>updateHlAll(commandnameArray, bSetMenu)</b> <a href="#Top"><span class="top">&nbsp;&nbsp;&nbsp;</span></a><br>
Update the highlight of 3D structure, 2D interaction, sequences, and the menu of defined sets according to the current highlighted atoms.

<br><br><a name="updateHlMenus"></a><b>updateHlMenus()</b> <a href="#Top"><span class="top">&nbsp;&nbsp;&nbsp;</span></a><br>
Update the selection in the menu of defined sets according to the current highlighted atoms.

<br><br><a name="updateHlObjects"></a><b>updateHlObjects()</b> <a href="#Top"><span class="top">&nbsp;&nbsp;&nbsp;</span></a><br>
Update the highlight of 3D structure display according to the current highlighted atoms.

<br><br><a name="updateHlSeq"></a><b>updateHlSeq()</b> <a href="#Top"><span class="top">&nbsp;&nbsp;&nbsp;</span></a><br>
Update the highlight of sequences in the annotation window according to the current highlighted atoms.

<br><br>

<hr>

<a name="log"></a>
<h2>Change Log:<img src="https://www.ncbi.nlm.nih.gov/Structure/IMG/spacer.gif" width="25" height="1" border="0"><a href="#Top"><img src="https://www.ncbi.nlm.nih.gov/Structure/IMG/arrowup_blue.gif" width="12" height="12" border="0" alt="back to top"></a></h2>

The production version <a href="https://www.ncbi.nlm.nih.gov/Structure/icn3d/icn3d-2.0.3.zip">icn3d-2.0.3</a> was release on May 2, 2018. Removed the "Description" field when saving a set of atoms. This made "Share Link" URL shorter. Made the size of stabilizer thicker for 3D printing.
<br><br>

The production version <a href="https://www.ncbi.nlm.nih.gov/Structure/icn3d/icn3d-2.0.2.zip">icn3d-2.0.2</a> was release on April 30, 2018. Reset WebGLRenderer when WebGL context is lost in Internet Explore 11.
<br><br>

The production version <a href="https://www.ncbi.nlm.nih.gov/Structure/icn3d/icn3d-2.0.1.zip">icn3d-2.0.1</a> was release on April 23, 2018. The bug about extra 3D domains in the "Sequences & Annotations" window was fixed. The stabilizers for 3D printing were improved.
<br><br>

The production version <a href="https://www.ncbi.nlm.nih.gov/Structure/icn3d/icn3d-2.0.0.zip">icn3d-2.0.0</a> was release on April 17, 2018. By clicking the menu "Windows: View Sequences & Annotations", users can view all kinds of annotations: ClinVar, SNPs, CDD domains, 3D domains, binding sites, interactions, and custom tracks. Users can click the menu "View: Chemical Binding" to show the chemical binding sites. Users can also export files for 3D printing at the menu "File: 3D Printing: VRML (Color, W/ Stabilizers)".
<br><br>

The production version <a href="https://www.ncbi.nlm.nih.gov/Structure/icn3d/icn3d-1.4.1.zip">icn3d-1.4.1</a> was release on November 3, 2017. The version of THREE.js in the zip file was fixed.
<br><br>

The production version <a href="https://www.ncbi.nlm.nih.gov/Structure/icn3d/icn3d-1.4.0.zip">icn3d-1.4.0</a> was release on November 2, 2017. The rendering speed has been significantly improved by using the Imposter shaders from NGL Viewer. A bug in "Share Link" was fixed.
<br><br>

The production version <a href="https://www.ncbi.nlm.nih.gov/Structure/icn3d/icn3d-1.3.10.zip">icn3d-1.3.10</a> was release on October 27, 2017. The "Save File" issue in Chrome 60 and after was fixed.
<br><br>

The production version <a href="https://www.ncbi.nlm.nih.gov/Structure/icn3d/icn3d-1.3.9.zip">icn3d-1.3.9</a> was release on September 5, 2017. The handling of residues with insertion codes was fixed in structure alignment.
<br><br>

The production version <a href="https://www.ncbi.nlm.nih.gov/Structure/icn3d/icn3d-1.3.8.zip">icn3d-1.3.8</a> was release on August 7, 2017. The handling of residues with insertion codes was fixed.
<br><br>

The production version <a href="https://www.ncbi.nlm.nih.gov/Structure/icn3d/icn3d-1.3.7.zip">icn3d-1.3.7</a> was release on April 18, 2017. A bug in the output order of commands was fixed.
<br><br>

The production version <a href="https://www.ncbi.nlm.nih.gov/Structure/icn3d/icn3d-1.3.6.zip">icn3d-1.3.6</a> was release on April 10, 2017. A bug introduced in the version of icn3d-1.3.5 was fixed in the function unionHash.
<br><br>

The production version <a href="https://www.ncbi.nlm.nih.gov/Structure/icn3d/icn3d-1.3.5.zip">icn3d-1.3.5</a> was release on March 23, 2017. The codes were optimized to show 3D structures as soon as possible. Vast+ structure alignment was optimized as well.
<br><br>

The production version <a href="https://www.ncbi.nlm.nih.gov/Structure/icn3d/icn3d-1.3.4.zip">icn3d-1.3.4</a> was release on March 1, 2017. The backend of structure alignment was updated.
<br><br>

The production version <a href="https://www.ncbi.nlm.nih.gov/Structure/icn3d/icn3d-1.3.3.zip">icn3d-1.3.3</a> was release on November 15, 2016. Now users can save the image with "transparent" background using a single url, e.g., <a href="https://www.ncbi.nlm.nih.gov/Structure/icn3d/full.html?mmdbid=1tup&width=300&height=300&command=set%20background%20transparent;%20export%20canvas">https://www.ncbi.nlm.nih.gov/Structure/icn3d/full.html?mmdbid=1tup&width=300&height=300&command=set%20background%20transparent;%20export%20canvas</a>.
<br><br>

The production version <a href="https://www.ncbi.nlm.nih.gov/Structure/icn3d/icn3d-1.3.2.zip">icn3d-1.3.2</a> was release on October 18, 2016. The atom specification in "Advanced set selection" was modified to use "$" instead of "#" in front of structure IDs. This modification avoids to the problem of showing multiple "#" in the urls of "Share Link".
<br><br>

The production version <a href="https://www.ncbi.nlm.nih.gov/Structure/icn3d/icn3d-1.3.1.zip">icn3d-1.3.1</a> was release on October 4, 2016. Partial diplay of helices or beta-sheets are enabled. The side chains, if displayed, are connected to C-alphas.
<br><br>

The production version <a href="https://www.ncbi.nlm.nih.gov/Structure/icn3d/icn3d-1.2.3.zip">icn3d-1.2.3</a> was release on September 13, 2016. The MMTF format started to support https.
<br><br>

The production version <a href="https://www.ncbi.nlm.nih.gov/Structure/icn3d/icn3d-1.2.2.zip">icn3d-1.2.2</a> was release on August 18, 2016. Added a switch button to switch between all atoms and selected atoms. When the mode is "selected atoms", the switch and the text "selection" next to it are colored in orange. The menu "Style", "Color", and "Surface" are colored in orange and only apply to selected atoms.
<br><br>

The production version <a href="https://www.ncbi.nlm.nih.gov/Structure/icn3d/icn3d-1.2.1.zip">icn3d-1.2.1</a> was release on August 18, 2016. Some bugs were fixed.
<br><br>

The production version <a href="https://www.ncbi.nlm.nih.gov/Structure/icn3d/icn3d-1.2.0.zip">icn3d-1.2.0</a> was release on August 17, 2016. The dialog of 2D interactions was added to show the interactions among different chains. Both the nodes (chains) and lines (interactions) can be selected. Secondary structures will be calculated if the input PDB file has no defined secondary structure information. The previous files src/icn3d.js, src/full_ui.js, and src/simple_ui.js were separated into small files.
<br><br>

The production version <a href="https://www.ncbi.nlm.nih.gov/Structure/icn3d/icn3d-1.1.1.zip">icn3d-1.1.1</a> was release on July 25, 2016. Some bugs were fixed.
<br><br>

The production version <a href="https://www.ncbi.nlm.nih.gov/Structure/icn3d/icn3d-1.1.0.zip">icn3d-1.1.0</a> was release on July 18, 2016. The new binary MMTF file format was supported. A new "Analysis" menu was added with an option to show disulfide bonds. Users can also input data from a url, either through the UI or through a encoded url parameter "?type=pdb&url=...", e.g., <a href="https://www.ncbi.nlm.nih.gov/Structure/icn3d/full.html?type=pdb&url=https%3A%2F%2Ffiles.rcsb.org%2Fview%2F1gpk.pdb">https://www.ncbi.nlm.nih.gov/Structure/icn3d/full.html?type=pdb&url=https%3A%2F%2Ffiles.rcsb.org%2Fview%2F1gpk.pdb</a>.
<br><br>

The production version <a href="https://www.ncbi.nlm.nih.gov/Structure/icn3d/icn3d-1.0.1.zip">icn3d-1.0.1</a> was release on May 16, 2016.
<br><br>

The production version <a href="https://www.ncbi.nlm.nih.gov/Structure/icn3d/icn3d-1.0.0.zip">icn3d-1.0.0</a> was release on April 28, 2016.
<br><br>

The beta version <a href="https://www.ncbi.nlm.nih.gov/Structure/icn3d/icn3d-0.9.6-dev.zip">icn3d-0.9.6-dev</a> was release on April 21, 2016. Enabled to export and import selection file where each custom sets of atoms are defined. Javascript files and CSS files are versioned. Developers can use the default latest version or specify the specific version in their pages.
<br><br>

The beta version <a href="https://www.ncbi.nlm.nih.gov/Structure/icn3d/icn3d-0.9.5-dev.zip">icn3d-0.9.5-dev</a> was release on April 4, 2016. Enabled to import Mol2, SDF, XYZ, PDB, and mmCIF files. Added "Schematic" style for chemicals. Improved the coordination between pk on 3D structure and selection on sequences.
<br><br>

The beta version <a href="https://www.ncbi.nlm.nih.gov/Structure/icn3d/icn3d-0.9.4-dev.zip">icn3d-0.9.4-dev</a> was release on March 14, 2016. Added "Fog" and "Slab" features.
<br><br>

The beta version <a href="https://www.ncbi.nlm.nih.gov/Structure/icn3d/icn3d-0.9.3-dev.zip">icn3d-0.9.3-dev</a> was release on March 9, 2016. Improved the following features: "Back" and "Forward" button, Export State, Open State.
<br><br>

The beta version <a href="https://www.ncbi.nlm.nih.gov/Structure/icn3d/icn3d-0.9.2-dev.zip">icn3d-0.9.2-dev</a> was release on March 4, 2016. CSS namespace was added. The file simple_ui.js was reorganized to share some codes with full_ui.js. A "Schematic" style was added to show one letter residue name in the C-alpha (for protein) or O3' (for nucleotide) position.
<br><br>

The beta version <a href="https://www.ncbi.nlm.nih.gov/Structure/icn3d/icn3d-0.9.2-dev.zip">icn3d-0.9.2-dev</a> was release on March 4, 2016. CSS namespace was added. The file simple_ui.js was reorganized to share some codes with full_ui.js. A "Schematic" style was added to show one letter residue name in the C-alpha (for protein) or O3' (for nucleotide) position.
<br><br>

The beta version <a href="https://www.ncbi.nlm.nih.gov/Structure/icn3d/icn3d-0.9.1-dev.zip">icn3d-0.9.1-dev</a> was release on Feb 9, 2016. The surface generation was switched from the iview version (surface.js) to the more efficient 3Dmol version (ProteinSurface4.js and marchingcube.js).
<br><br>

The beta version <a href="https://www.ncbi.nlm.nih.gov/Structure/icn3d/icn3d-0.9.0-dev.zip">icn3d-0.9.0-dev</a> was release on Jan 17, 2016.

<br>

<!-- ======================= END_EXAMPLES ======================= -->

</blockquote>




</body></html>
